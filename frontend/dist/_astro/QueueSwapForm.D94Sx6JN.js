import{v as _,w as y}from"./runtime-dom.esm-bundler.D1c0Icce.js";import{_ as M,w as v,a as A,W as C,C as O}from"./_plugin-vue_export-helper.CTKArEa2.js";import{g as q,M as B}from"./contractConfig.cbomkfKb.js";/* empty css                       */import{c as b,a as r,w as S,t as p,g as V,d as k,r as s,f as g}from"./runtime-core.esm-bundler.CJzaKusY.js";const h=(1n<<128n)-1n,N=k({__name:"QueueSwapForm",setup(E,{expose:n}){n();const u=q(),e=s(""),c=s(""),i=s(!1),t=s("Enter raw token units and queue your swap intent."),d=s(null);function f(){return B}function m(a,l){if(!/^\d+$/.test(a))throw new Error(`${l} must be a non-negative integer.`);const o=BigInt(a);if(o>h)throw new Error(`${l} exceeds uint128.`);return o}async function x(){if(d.value=null,!u){t.value=f();return}if(!v){t.value="No injected wallet detected.";return}i.value=!0;try{const a=m(e.value.trim(),"amountIn"),l=m(c.value.trim(),"minOut"),[o]=await v.requestAddresses();if(!o)throw new Error("Wallet did not return an account.");const I=await(await A(u)).write.queueSwapExactIn([a,l,o],{account:o});d.value=I,t.value="Swap intent queued. Wait for window clear before claiming."}catch(a){a instanceof C||a instanceof O||a instanceof Error?t.value=a.message:t.value="Failed to queue swap."}finally{i.value=!1}}const w={address:u,MAX_UINT128:h,amountIn:e,minOut:c,busy:i,message:t,txHash:d,addressError:f,parseUint128:m,queueSwap:x};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),T=["disabled"],D={class:"message"},H={key:0,class:"tx"};function U(E,n,u,e,c,i){return g(),b("form",{class:"panel",onSubmit:y(e.queueSwap,["prevent"])},[r("label",null,[n[2]||(n[2]=r("span",null,"Amount In (uint128)",-1)),S(r("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>e.amountIn=t),inputmode:"numeric",placeholder:"1000000"},null,512),[[_,e.amountIn]])]),r("label",null,[n[3]||(n[3]=r("span",null,"Min Out (uint128)",-1)),S(r("input",{"onUpdate:modelValue":n[1]||(n[1]=t=>e.minOut=t),inputmode:"numeric",placeholder:"950000"},null,512),[[_,e.minOut]])]),r("button",{class:"button",type:"submit",disabled:e.busy},p(e.busy?"Submitting...":"Queue Swap"),9,T),r("p",D,p(e.message),1),e.txHash?(g(),b("p",H,"Tx: "+p(e.txHash),1)):V("",!0)],32)}const R=M(N,[["render",U],["__scopeId","data-v-f5db9bd3"]]);export{R as default};
