const Xc="1.2.3";let re=class Ur extends Error{constructor(t,n={}){const r=n.cause instanceof Ur?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Ur&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Xc}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Me(e,t){return e.exec(t)?.groups}const wi=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xi=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,vi=/^\(.+?\).*?$/,wo=/^tuple(?<array>(\[(\d*)\])*)$/;function qr(e){let t=e.type;if(wo.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=qr(o),s<n-1&&(t+=", ")}const r=Me(wo,e.type);return t+=`)${r?.array||""}`,qr({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function mt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=qr(s),r!==n-1&&(t+=", ")}return t}function zn(e){return e.type==="function"?`function ${e.name}(${mt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${mt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${mt(e.inputs)})`:e.type==="error"?`error ${e.name}(${mt(e.inputs)})`:e.type==="constructor"?`constructor(${mt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Ei=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Qc(e){return Ei.test(e)}function eu(e){return Me(Ei,e)}const Pi=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function tu(e){return Pi.test(e)}function nu(e){return Me(Pi,e)}const Ai=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ru(e){return Ai.test(e)}function su(e){return Me(Ai,e)}const $i=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Wn(e){return $i.test(e)}function ou(e){return Me($i,e)}const Ii=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function iu(e){return Ii.test(e)}function au(e){return Me(Ii,e)}const Bi=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function cu(e){return Bi.test(e)}function uu(e){return Me(Bi,e)}const fu=/^receive\(\) external payable$/;function du(e){return fu.test(e)}const xo=new Set(["memory","indexed","storage","calldata"]),lu=new Set(["indexed"]),Dr=new Set(["calldata","memory","storage"]);class hu extends re{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class pu extends re{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class bu extends re{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class mu extends re{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class yu extends re{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class gu extends re{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class wu extends re{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class xu extends re{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class vu extends re{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Rt extends re{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Eu extends re{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Pu extends re{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Au extends re{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class $u extends re{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Iu(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const mr=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Gr(e,t={}){if(ru(e))return Bu(e,t);if(tu(e))return Su(e,t);if(Qc(e))return Tu(e,t);if(iu(e))return Cu(e,t);if(cu(e))return Nu(e);if(du(e))return{type:"receive",stateMutability:"payable"};throw new Eu({signature:e})}function Bu(e,t={}){const n=su(e);if(!n)throw new Rt({signature:e,type:"function"});const r=oe(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Re(r[a],{modifiers:Dr,structs:t,type:"function"}));const i=[];if(n.returns){const a=oe(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Re(a[u],{modifiers:Dr,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Su(e,t={}){const n=nu(e);if(!n)throw new Rt({signature:e,type:"event"});const r=oe(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Re(r[i],{modifiers:lu,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Tu(e,t={}){const n=eu(e);if(!n)throw new Rt({signature:e,type:"error"});const r=oe(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Re(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Cu(e,t={}){const n=au(e);if(!n)throw new Rt({signature:e,type:"constructor"});const r=oe(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Re(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Nu(e){const t=uu(e);if(!t)throw new Rt({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const ku=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ru=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ou=/^u?int$/;function Re(e,t){const n=Iu(e,t?.type,t?.structs);if(mr.has(n))return mr.get(n);const r=vi.test(e),s=Me(r?Ru:ku,e);if(!s)throw new yu({param:e});if(s.name&&zu(s.name))throw new gu({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const d=oe(s.type),l=[],h=d.length;for(let p=0;p<h;p++)l.push(Re(d[p],{structs:a}));u={components:l}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(Ou.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!Si(c))throw new bu({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new wu({param:e,type:t?.type,modifier:s.modifier});if(Dr.has(s.modifier)&&!Mu(c,!!s.array))throw new xu({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return mr.set(n,f),f}function oe(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?oe(a,[...t,n.trim()]):oe(a,t,`${n}${i}`,r);case"(":return oe(a,t,`${n}${i}`,r+1);case")":return oe(a,t,`${n}${i}`,r-1);default:return oe(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new $u({current:n,depth:r});return t.push(n.trim()),t}function Si(e){return e==="address"||e==="bool"||e==="function"||e==="string"||wi.test(e)||xi.test(e)}const Fu=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function zu(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||wi.test(e)||xi.test(e)||Fu.test(e)}function Mu(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Es(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Wn(a))continue;const c=ou(a);if(!c)throw new Rt({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const p=u[l].trim();if(!p)continue;const m=Re(p,{type:"struct"});f.push(m)}if(!f.length)throw new Pu({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=Ti(c,t)}return r}const _u=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Ti(e=[],t={},n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(vi.test(i.type))r.push(i);else{const c=Me(_u,i.type);if(!c?.type)throw new vu({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new Au({type:f});r.push({...i,type:`tuple${u??""}`,components:Ti(t[f],t,new Set([...n,f]))})}else if(Si(f))r.push(i);else throw new pu({type:f})}}return r}function Ci(e){const t=Es(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Wn(o)||n.push(Gr(o,t))}return n}function vo(e){let t;if(typeof e=="string")t=Gr(e);else{const n=Es(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Wn(o)){t=Gr(o,n);break}}}if(!t)throw new hu({signature:e});return t}function Eo(e){const t=[];if(typeof e=="string"){const n=oe(e),r=n.length;for(let s=0;s<r;s++)t.push(Re(n[s],{modifiers:xo}))}else{const n=Es(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(Wn(o))continue;const i=oe(o),a=i.length;for(let c=0;c<a;c++)t.push(Re(i[c],{modifiers:xo,structs:n}))}}if(t.length===0)throw new mu({params:e});return t}function R(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function me(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Xu(e.type);return`${e.name}(${Zn(e.inputs,{includeName:t})})`}function Zn(e,{includeName:t=!1}={}){return e?e.map(n=>ju(n,{includeName:t})).join(t?", ":","):""}function ju(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Zn(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Ae(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function G(e){return Ae(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Ni="2.45.1";let yr={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Ni}`},$=class Hr extends Error{constructor(t,n={}){const r=n.cause instanceof Hr?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Hr&&n.cause.docsPath||n.docsPath,o=yr.getDocsUrl?.({...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...yr.version?[`Version: ${yr.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Ni}walk(t){return ki(this,t)}};function ki(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?ki(e.cause,t):t?null:e}class Lu extends ${constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Po extends ${constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Ri extends ${constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Zn(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class mn extends ${constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Uu extends ${constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class qu extends ${constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${G(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Du extends ${constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Gu extends ${constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Ao extends ${constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Oi extends ${constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Hu extends ${constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Vu extends ${constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class $o extends ${constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class At extends ${constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Fi extends ${constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Wu extends ${constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Zu extends ${constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${me(t.abiItem)}\`, and`,`\`${n.type}\` in \`${me(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Ku=class extends ${constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Mn extends ${constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Zn(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Ps extends ${constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${me(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Yu extends ${constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Ju extends ${constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let zi=class extends ${constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Xu extends ${constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Qu extends ${constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let Mi=class extends ${constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},_i=class extends ${constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Io extends ${constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Ot(e,{dir:t,size:n=32}={}){return typeof e=="string"?qe(e,{dir:t,size:n}):e0(e,{dir:t,size:n})}function qe(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new _i({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function e0(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new _i({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let As=class extends ${constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},t0=class extends ${constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class n0 extends ${constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let r0=class extends ${constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function De(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function xe(e,{size:t}){if(G(e)>t)throw new r0({givenSize:G(e),maxSize:t})}function ie(e,t={}){const{signed:n}=t;t.size&&xe(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function s0(e,t={}){let n=e;if(t.size&&(xe(n,{size:t.size}),n=De(n)),De(n)==="0x00")return!1;if(De(n)==="0x01")return!0;throw new n0(n)}function ye(e,t={}){const n=ie(e,t),r=Number(n);if(!Number.isSafeInteger(r))throw new As({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${n}n`});return r}const o0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Oe(e,t={}){return typeof e=="number"||typeof e=="bigint"?M(e,t):typeof e=="string"?$t(e,t):typeof e=="boolean"?ji(e,t):V(e,t)}function ji(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(xe(n,{size:t.size}),Ot(n,{size:t.size})):n}function V(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=o0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(xe(r,{size:t.size}),Ot(r,{dir:"right",size:t.size})):r}function M(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new As({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ot(a,{size:r}):a}const i0=new TextEncoder;function $t(e,t={}){const n=i0.encode(e);return V(n,t)}const a0=new TextEncoder;function Ft(e,t={}){return typeof e=="number"||typeof e=="bigint"?u0(e,t):typeof e=="boolean"?c0(e,t):Ae(e)?$e(e,t):Qe(e,t)}function c0(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(xe(n,{size:t.size}),Ot(n,{size:t.size})):n}const Ie={zero:48,nine:57,A:65,F:70,a:97,f:102};function Bo(e){if(e>=Ie.zero&&e<=Ie.nine)return e-Ie.zero;if(e>=Ie.A&&e<=Ie.F)return e-(Ie.A-10);if(e>=Ie.a&&e<=Ie.f)return e-(Ie.a-10)}function $e(e,t={}){let n=e;t.size&&(xe(n,{size:t.size}),n=Ot(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=Bo(r.charCodeAt(a++)),u=Bo(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new $(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function u0(e,t){const n=M(e,t);return $e(n)}function Qe(e,t={}){const n=a0.encode(e);return typeof t.size=="number"?(xe(n,{size:t.size}),Ot(n,{dir:"right",size:t.size})):n}const Tn=BigInt(2**32-1),So=BigInt(32);function f0(e,t=!1){return t?{h:Number(e&Tn),l:Number(e>>So&Tn)}:{h:Number(e>>So&Tn)|0,l:Number(e&Tn)|0}}function d0(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=f0(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const l0=(e,t,n)=>e<<n|t>>>32-n,h0=(e,t,n)=>t<<n|e>>>32-n,p0=(e,t,n)=>t<<n-32|e>>>64-n,b0=(e,t,n)=>e<<n-32|t>>>64-n,pt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function m0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Vt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function nt(e,...t){if(!m0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function y0(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Vt(e.outputLen),Vt(e.blockLen)}function It(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Li(e,t){nt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function g0(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Bt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function gr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ve(e,t){return e<<32-t|e>>>t}const w0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function x0(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function v0(e){for(let t=0;t<e.length;t++)e[t]=x0(e[t]);return e}const To=w0?e=>e:v0;function E0(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Kn(e){return typeof e=="string"&&(e=E0(e)),nt(e),e}function P0(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];nt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class $s{}function Ui(e){const t=r=>e().update(Kn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function A0(e=32){if(pt&&typeof pt.getRandomValues=="function")return pt.getRandomValues(new Uint8Array(e));if(pt&&typeof pt.randomBytes=="function")return Uint8Array.from(pt.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const $0=BigInt(0),Dt=BigInt(1),I0=BigInt(2),B0=BigInt(7),S0=BigInt(256),T0=BigInt(113),qi=[],Di=[],Gi=[];for(let e=0,t=Dt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],qi.push(2*(5*r+n)),Di.push((e+1)*(e+2)/2%64);let s=$0;for(let o=0;o<7;o++)t=(t<<Dt^(t>>B0)*T0)%S0,t&I0&&(s^=Dt<<(Dt<<BigInt(o))-Dt);Gi.push(s)}const Hi=d0(Gi,!0),C0=Hi[0],N0=Hi[1],Co=(e,t,n)=>n>32?p0(e,t,n):l0(e,t,n),No=(e,t,n)=>n>32?b0(e,t,n):h0(e,t,n);function k0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=Co(u,f,1)^n[a],l=No(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=d,e[i+h+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Di[i],c=Co(s,o,a),u=No(s,o,a),f=qi[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=C0[r],e[1]^=N0[r]}Bt(n)}class Is extends $s{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,Vt(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=g0(this.state)}clone(){return this._cloneInto()}keccak(){To(this.state32),k0(this.state32,this.rounds),To(this.state32),this.posOut=0,this.pos=0}update(t){It(this),t=Kn(t),nt(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){It(this,!1),nt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Vt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Li(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Bt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Is(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const R0=(e,t,n)=>Ui(()=>new Is(t,e,n)),Vi=R0(1,136,256/8);function Z(e,t){const n=t||"hex",r=Vi(Ae(e,{strict:!1})?Ft(e):e);return n==="bytes"?r:Oe(r)}const O0=e=>Z(Ft(e));function F0(e){return O0(e)}function z0(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new $("Unable to normalize signature.");return s}const M0=e=>{const t=typeof e=="string"?e:zn(e);return z0(t)};function Wi(e){return F0(M0(e))}const Yn=Wi;let Ge=class extends ${constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},zt=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const wr=new zt(8192);function yn(e,t){if(wr.has(`${e}.${t}`))return wr.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=Z(Qe(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return wr.set(`${e}.${t}`,o),o}function Bs(e,t){if(!le(e,{strict:!1}))throw new Ge({address:e});return yn(e,t)}const _0=/^0x[a-fA-F0-9]{40}$/,xr=new zt(8192);function le(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(xr.has(r))return xr.get(r);const s=_0.test(e)?e.toLowerCase()===e?!0:n?yn(e)===e:!0:!1;return xr.set(r,s),s}function Y(e){return typeof e[0]=="string"?Mt(e):j0(e)}function j0(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Mt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function St(e,t,n,{strict:r}={}){return Ae(e,{strict:!1})?Vr(e,t,n,{strict:r}):Yi(e,t,n,{strict:r})}function Zi(e,t){if(typeof t=="number"&&t>0&&t>G(e)-1)throw new Mi({offset:t,position:"start",size:G(e)})}function Ki(e,t,n){if(typeof t=="number"&&typeof n=="number"&&G(e)!==n-t)throw new Mi({offset:n,position:"end",size:G(e)})}function Yi(e,t,n,{strict:r}={}){Zi(e,t);const s=e.slice(t,n);return r&&Ki(s,t,n),s}function Vr(e,t,n,{strict:r}={}){Zi(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Ki(s,t,n),s}const L0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ji=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ct(e,t){if(e.length!==t.length)throw new Du({expectedLength:e.length,givenLength:t.length});const n=U0({params:e,values:t}),r=Ts(n);return r.length===0?"0x":r}function U0({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Ss({param:e[r],value:t[r]}));return n}function Ss({param:e,value:t}){const n=Cs(e.type);if(n){const[r,s]=n;return D0(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Z0(t,{param:e});if(e.type==="address")return q0(t);if(e.type==="bool")return H0(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Ji.exec(e.type)??[];return V0(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return G0(t,{param:e});if(e.type==="string")return W0(t);throw new Yu(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ts(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=G(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(M(t+s,{size:32})),r.push(a),s+=G(a)):n.push(a)}return Y([...n,...r])}function q0(e){if(!le(e))throw new Ge({address:e});return{dynamic:!1,encoded:qe(e.toLowerCase())}}function D0(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new zi(e);if(!r&&e.length!==t)throw new Uu({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=Ss({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=Ts(o);if(r){const a=M(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Y([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:Y(o.map(({encoded:i})=>i))}}function G0(e,{param:t}){const[,n]=t.type.split("bytes"),r=G(e);if(!n){let s=e;return r%32!==0&&(s=qe(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Y([qe(M(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new qu({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:qe(e,{dir:"right"})}}function H0(e){if(typeof e!="boolean")throw new $(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:qe(ji(e))}}function V0(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new As({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:M(e,{size:32,signed:t})}}function W0(e){const t=$t(e),n=Math.ceil(G(t)/32),r=[];for(let s=0;s<n;s++)r.push(qe(St(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Y([qe(M(G(t),{size:32})),...r])}}function Z0(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=Ss({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Ts(r):Y(r.map(({encoded:s})=>s))}}function Cs(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const gn=e=>St(Wi(e),0,4);function ut(e){const{abi:t,args:n=[],name:r}=e,s=Ae(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?gn(a)===r:a.type==="event"?Yn(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?Wr(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=Xi(a.inputs,i.inputs,n);if(u)throw new Zu({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Wr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return le(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>n==="object"&&Wr(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Wr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Xi(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Xi(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?le(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?le(n[r],{strict:!1}):!1)return i}}const ko="/docs/contract/encodeEventTopics";function wn(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=ut({abi:t,name:n});if(!c)throw new $o(n,{docsPath:ko});s=c}if(s.type!=="event")throw new $o(void 0,{docsPath:ko});const o=me(s),i=Yn(o);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(a=c?.map((f,d)=>Array.isArray(u[d])?u[d].map((l,h)=>Ro({param:f,value:u[d][h]})):typeof u[d]<"u"&&u[d]!==null?Ro({param:f,value:u[d]}):null)??[])}return[i,...a]}function Ro({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Z(Ft(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Qu(e.type);return ct([e],[t])}function Jn(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),(r=>n[r]||e.request)}async function Ns(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=Jn(e,{method:"eth_newFilter"}),f=o?wn({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?M(i):i,toBlock:typeof c=="bigint"?M(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}function D(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Oo="/docs/contract/encodeFunctionData";function K0(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=ut({abi:t,args:n,name:r});if(!o)throw new At(r,{docsPath:Oo});s=o}if(s.type!=="function")throw new At(void 0,{docsPath:Oo});return{abi:[s],functionName:gn(me(s))}}function ce(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:K0(e),s=n[0],o=r,i="inputs"in s&&s.inputs?ct(s.inputs,t??[]):void 0;return Mt([o,i??"0x"])}const Y0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Qi={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},J0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let Fo=class extends ${constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},ea=class extends ${constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},X0=class extends ${constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Q0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new X0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new ea({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Fo({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Fo({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function ks(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Q0);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function ef(e,t={}){typeof t.size<"u"&&xe(e,{size:t.size});const n=V(e,t);return ie(n,t)}function tf(e,t={}){let n=e;if(typeof t.size<"u"&&(xe(n,{size:t.size}),n=De(n)),n.length>1||n[0]>1)throw new t0(n);return!!n[0]}function Ne(e,t={}){typeof t.size<"u"&&xe(e,{size:t.size});const n=V(e,t);return ye(n,t)}function nf(e,t={}){let n=e;return typeof t.size<"u"&&(xe(n,{size:t.size}),n=De(n,{dir:"right"})),new TextDecoder().decode(n)}function xn(e,t){const n=typeof t=="string"?$e(t):t,r=ks(n);if(G(n)===0&&e.length>0)throw new mn;if(G(t)&&G(t)<32)throw new Ri({data:typeof t=="string"?t:V(t),params:e,size:G(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=xt(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function xt(e,t,{staticPosition:n}){const r=Cs(t.type);if(r){const[s,o]=r;return sf(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return uf(e,t,{staticPosition:n});if(t.type==="address")return rf(e);if(t.type==="bool")return of(e);if(t.type.startsWith("bytes"))return af(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return cf(e,t);if(t.type==="string")return ff(e,{staticPosition:n});throw new Ju(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const zo=32,Zr=32;function rf(e){const t=e.readBytes(32);return[yn(V(Yi(t,-20))),32]}function sf(e,t,{length:n,staticPosition:r}){if(!n){const i=Ne(e.readBytes(Zr)),a=r+i,c=a+zo;e.setPosition(a);const u=Ne(e.readBytes(zo)),f=Wt(t);let d=0;const l=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:d));const[p,m]=xt(e,t,{staticPosition:c});d+=m,l.push(p)}return e.setPosition(r+32),[l,32]}if(Wt(t)){const i=Ne(e.readBytes(Zr)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=xt(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=xt(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function of(e){return[tf(e.readBytes(32),{size:32}),32]}function af(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ne(e.readBytes(32));e.setPosition(n+i);const a=Ne(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[V(c),32]}return[V(e.readBytes(Number.parseInt(s,10),32)),32]}function cf(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?ef(s,{signed:n}):Ne(s,{signed:n}),32]}function uf(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(Wt(t)){const i=Ne(e.readBytes(Zr)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=xt(e,u,{staticPosition:a});o+=d,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=xt(e,a,{staticPosition:n});s[r?i:a?.name]=c,o+=u}return[s,o]}function ff(e,{staticPosition:t}){const n=Ne(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ne(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=nf(De(o));return e.setPosition(t+32),[i,32]}function Wt(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Wt);const n=Cs(e.type);return!!(n&&Wt({...e,type:n[1]}))}function df(e){const{abi:t,data:n}=e,r=St(n,0,4);if(r==="0x")throw new mn;const o=[...t||[],Qi,J0].find(i=>i.type==="error"&&r===gn(me(i)));if(!o)throw new Oi(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?xn(o.inputs,St(n,4)):void 0,errorName:o.name}}const H=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function ta({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?H(t[o]):t[o]}`).join(", ")})`}const lf={gwei:9,wei:18},hf={ether:-9,wei:9};function na(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function Rs(e,t="wei"){return na(e,lf[t])}function ne(e,t="wei"){return na(e,hf[t])}class pf extends ${constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class bf extends ${constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Mo(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function mf(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Mo(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Mo(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function vn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class yf extends ${constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",vn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class gf extends ${constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=vn({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:d,value:typeof l<"u"&&`${Rs(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ne(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ne(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ne(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ra extends ${constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class sa extends ${constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class oa extends ${constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class wf extends ${constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const xf=e=>e,Os=e=>e;class ia extends ${constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:h}){const p=n?D(n):void 0;let m=vn({from:p?.address,to:d,value:typeof l<"u"&&`${Rs(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ne(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ne(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ne(u)} gwei`,nonce:f});h&&(m+=`
${mf(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class aa extends ${constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=ut({abi:n,args:r,name:i}),u=c?ta({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?me(c,{includeName:!0}):void 0,d=vn({address:s&&xf(s),function:f,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Kr extends ${constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=df({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")c=l[0];else if(d==="Panic"){const[h]=l;c=Y0[h]}else{const h=f?me(f,{includeName:!0}):void 0,p=f&&l?ta({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof Oi&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class vf extends ${constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Ef extends ${constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Xn extends ${constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Ht extends ${constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${Os(i)}`,t&&`Request body: ${H(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class Fs extends ${constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Os(r)}`,`Request body: ${H(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class _o extends ${constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Os(n)}`,`Request body: ${H(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const Pf=-1;class se extends ${constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof Fs?t.code:n??Pf}}class ue extends se{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Zt extends se{constructor(t){super(t,{code:Zt.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Kt extends se{constructor(t){super(t,{code:Kt.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Yt extends se{constructor(t,{method:n}={}){super(t,{code:Yt.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Jt extends se{constructor(t){super(t,{code:Jt.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class rt extends se{constructor(t){super(t,{code:rt.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class He extends se{constructor(t){super(t,{code:He.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(He,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Xt extends se{constructor(t){super(t,{code:Xt.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Qt extends se{constructor(t){super(t,{code:Qt.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class en extends se{constructor(t){super(t,{code:en.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Je extends se{constructor(t,{method:n}={}){super(t,{code:Je.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Je,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Tt extends se{constructor(t){super(t,{code:Tt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class tn extends se{constructor(t){super(t,{code:tn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class vt extends ue{constructor(t){super(t,{code:vt.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(vt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class nn extends ue{constructor(t){super(t,{code:nn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class rn extends ue{constructor(t,{method:n}={}){super(t,{code:rn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class sn extends ue{constructor(t){super(t,{code:sn.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class on extends ue{constructor(t){super(t,{code:on.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(on,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class an extends ue{constructor(t){super(t,{code:an.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(an,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Ct extends ue{constructor(t){super(t,{code:Ct.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class cn extends ue{constructor(t){super(t,{code:cn.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class un extends ue{constructor(t){super(t,{code:un.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(un,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class fn extends ue{constructor(t){super(t,{code:fn.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class dn extends ue{constructor(t){super(t,{code:dn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class ln extends ue{constructor(t){super(t,{code:ln.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Nt extends ue{constructor(t){super(t,{code:Nt.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Af extends se{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const $f=3;function st(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof Xn?e:e instanceof $?e.walk(p=>"data"in p)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,h=e instanceof mn?new vf({functionName:o}):[$f,rt.code].includes(c)&&(u||f||d||l)||c===He.code&&f==="execution reverted"&&u?new Kr({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof Fs?f:l??d}):e;return new aa(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function If(e){const t=Z(`0x${e.substring(4)}`).substring(26);return yn(`0x${t}`)}const Bf="modulepreload",Sf=function(e){return"/"+e},jo={},ca=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let i=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=i(n.map(u=>{if(u=Sf(u),u in jo)return;jo[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const l=document.createElement("link");if(l.rel=f?"stylesheet":Bf,f||(l.as="script"),l.crossOrigin="",l.href=u,c&&l.setAttribute("nonce",c),document.head.appendChild(l),f)return new Promise((h,p)=>{l.addEventListener("load",h),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};async function Tf({hash:e,signature:t}){const n=Ae(e)?e:Oe(e),{secp256k1:r}=await ca(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>th);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),p=Lo(h);return new r.Signature(ie(u),ie(f)).addRecoveryBit(p)}const i=Ae(t)?t:Oe(t);if(G(i)!==65)throw new Error("invalid signature length");const a=ye(`0x${i.slice(130)}`),c=Lo(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Lo(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function ua({hash:e,signature:t}){return If(await Tf({hash:e,signature:t}))}function Cf(e,t="hex"){const n=fa(e),r=ks(new Uint8Array(n.length));return n.encode(r),t==="hex"?V(r.bytes):r.bytes}function fa(e){return Array.isArray(e)?Nf(e.map(t=>fa(t))):kf(e)}function Nf(e){const t=e.reduce((s,o)=>s+o.length,0),n=da(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function kf(e){const t=typeof e=="string"?$e(e):e,n=da(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function da(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new $("Length is too large.")}function Rf(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=Z(Mt(["0x05",Cf([t?M(t):"0x",s,n?M(n):"0x"])]));return r==="bytes"?$e(o):o}async function Qn(e){const{authorization:t,signature:n}=e;return ua({hash:Rf(t),signature:n??t})}class Of extends ${constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=vn({from:n?.address,to:d,value:typeof l<"u"&&`${Rs(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ne(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ne(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ne(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class yt extends ${constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(yt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class _n extends ${constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ne(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(_n,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Yr extends ${constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ne(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Yr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Jr extends ${constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Jr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Xr extends ${constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Xr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Qr extends ${constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Qr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class es extends ${constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(es,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class ts extends ${constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(ts,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class ns extends ${constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(ns,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class rs extends ${constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(rs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class jn extends ${constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ne(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ne(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(jn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class En extends ${constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function er(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof $?e.walk(s=>s?.code===yt.code):e;return r instanceof $?new yt({cause:e,message:r.details}):yt.nodeMessage.test(n)?new yt({cause:e,message:e.details}):_n.nodeMessage.test(n)?new _n({cause:e,maxFeePerGas:t?.maxFeePerGas}):Yr.nodeMessage.test(n)?new Yr({cause:e,maxFeePerGas:t?.maxFeePerGas}):Jr.nodeMessage.test(n)?new Jr({cause:e,nonce:t?.nonce}):Xr.nodeMessage.test(n)?new Xr({cause:e,nonce:t?.nonce}):Qr.nodeMessage.test(n)?new Qr({cause:e,nonce:t?.nonce}):es.nodeMessage.test(n)?new es({cause:e}):ts.nodeMessage.test(n)?new ts({cause:e,gas:t?.gas}):ns.nodeMessage.test(n)?new ns({cause:e,gas:t?.gas}):rs.nodeMessage.test(n)?new rs({cause:e}):jn.nodeMessage.test(n)?new jn({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new En({cause:e})}function Ff(e,{docsPath:t,...n}){const r=(()=>{const s=er(e,n);return s instanceof En?e:s})();return new Of(r,{docsPath:t,...n})}function _t(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}const zf={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Ve(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=Mf(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>V(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=M(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=M(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=M(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=M(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=M(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=M(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=zf[e.type]),typeof e.value<"u"&&(n.value=M(e.value)),n}function Mf(e){return e.map(t=>({address:t.address,r:t.r?M(BigInt(t.r)):t.r,s:t.s?M(BigInt(t.s)):t.s,chainId:M(t.chainId),nonce:M(t.nonce),...typeof t.yParity<"u"?{yParity:M(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:M(t.v)}:{}}))}function Uo(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Io({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Io({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function _f(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=M(t)),n!==void 0&&(i.nonce=M(n)),r!==void 0&&(i.state=Uo(r)),s!==void 0){if(i.state)throw new bf;i.stateDiff=Uo(s)}return i}function zs(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!le(n,{strict:!1}))throw new Ge({address:n});if(t[n])throw new pf({address:n});t[n]=_f(r)}return t}const jf=2n**256n-1n;function _e(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?D(t):void 0;if(o&&!le(o.address))throw new Ge({address:o.address});if(s&&!le(s))throw new Ge({address:s});if(n&&n>jf)throw new _n({maxFeePerGas:n});if(r&&n&&r>n)throw new jn({maxFeePerGas:n,maxPriorityFeePerGas:r})}class la extends ${constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Ms extends ${constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Lf extends ${constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ne(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class ha extends ${constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const pa={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function _s(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?ye(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?ye(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?pa[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=Uf(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function Uf(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function ba(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:_s(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function be(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,i=n!==void 0?M(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new ha({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||ba)(a,"getBlock")}async function js(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function qf(e,t){return ma(e,t)}async function ma(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await R(e,be,"getBlock")({}),c=await o({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return ie(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):R(e,be,"getBlock")({}),R(e,js,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new Ms;const a=i-o.baseFeePerGas;return a<0n?0n:a}}async function Df(e,t){return ss(e,t)}async function ss(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new la;const c=10**(i.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await R(e,be,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(l!==null)return l}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Ms;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await ma(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??h+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await R(e,js,"getGasPrice")({}))}}async function Ls(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?M(r):n]},{dedupe:!!r});return ye(s)}function ya(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>$e(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>V(o))}function ga(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>$e(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>$e(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>V(i))}function Gf(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function Hf(e,t,n){return e&t^~e&n}function Vf(e,t,n){return e&t^e&n^t&n}class Wf extends $s{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=gr(this.buffer)}update(t){It(this),t=Kn(t),nt(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=gr(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){It(this),Li(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,Bt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;Gf(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=gr(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Le=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zf=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ue=new Uint32Array(64);class Kf extends Wf{constructor(t=32){super(64,t,8,!1),this.A=Le[0]|0,this.B=Le[1]|0,this.C=Le[2]|0,this.D=Le[3]|0,this.E=Le[4]|0,this.F=Le[5]|0,this.G=Le[6]|0,this.H=Le[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Ue[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=Ue[d-15],h=Ue[d-2],p=ve(l,7)^ve(l,18)^l>>>3,m=ve(h,17)^ve(h,19)^h>>>10;Ue[d]=m+Ue[d-7]+p+Ue[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=ve(a,6)^ve(a,11)^ve(a,25),h=f+l+Hf(a,c,u)+Zf[d]+Ue[d]|0,m=(ve(r,2)^ve(r,13)^ve(r,22))+Vf(r,s,o)|0;f=u,u=c,c=a,a=i+h|0,i=o,o=s,s=r,r=h+m|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,c,u,f)}roundClean(){Bt(Ue)}destroy(){this.set(0,0,0,0,0,0,0,0),Bt(this.buffer)}}const wa=Ui(()=>new Kf),Yf=wa;function Jf(e,t){return Yf(Ae(e,{strict:!1})?Ft(e):e)}function Xf(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Jf(t);return s.set([n],0),r==="bytes"?s:V(s)}function Qf(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const o of t)s.push(Xf({commitment:o,to:r,version:n}));return s}const qo=6,xa=32,Us=4096,va=xa*Us,Do=va*qo-1-1*Us*qo;class ed extends ${constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class td extends ${constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function nd(e){const t=typeof e.data=="string"?$e(e.data):e.data,n=G(t);if(!n)throw new td;if(n>Do)throw new ed({maxSize:Do,size:n});const r=[];let s=!0,o=0;for(;s;){const i=ks(new Uint8Array(va));let a=0;for(;a<Us;){const c=t.slice(o,o+(xa-1));if(i.pushByte(0),i.pushBytes(c),c.length<31){i.pushByte(128),s=!1;break}a++,o+=31}r.push(i)}return r.map(i=>V(i.bytes))}function rd(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??nd({data:t}),o=e.commitments??ya({blobs:s,kzg:n,to:r}),i=e.proofs??ga({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function sd(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new yf({transaction:e})}function tr(e,{docsPath:t,...n}){const r=(()=>{const s=er(e,n);return s instanceof En?e:s})();return new gf(r,{docsPath:t,...n})}async function We(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return ye(t)}async function qs(e,t){const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:a,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:p,nonceManager:m,to:x,type:y,value:v,...g}=t,b=await(async()=>{if(!n||!m||typeof p<"u")return p;const I=D(n),k=o?o.id:await R(e,We,"getChainId")({});return await m.consume({address:I.address,chainId:k,client:e})})();_e(t);const w=o?.formatters?.transactionRequest?.format,P=(w||Ve)({..._t(g,{format:w}),account:n?D(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:i,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:b,to:x,type:y,value:v},"fillTransaction");try{const I=await e.request({method:"eth_fillTransaction",params:[P]}),A=(o?.formatters?.transaction?.format||_s)(I.tx);delete A.blockHash,delete A.blockNumber,delete A.r,delete A.s,delete A.transactionIndex,delete A.v,delete A.yParity,A.data=A.input,A.gas&&(A.gas=t.gas??A.gas),A.gasPrice&&(A.gasPrice=t.gasPrice??A.gasPrice),A.maxFeePerBlobGas&&(A.maxFeePerBlobGas=t.maxFeePerBlobGas??A.maxFeePerBlobGas),A.maxFeePerGas&&(A.maxFeePerGas=t.maxFeePerGas??A.maxFeePerGas),A.maxPriorityFeePerGas&&(A.maxPriorityFeePerGas=t.maxPriorityFeePerGas??A.maxPriorityFeePerGas),A.nonce&&(A.nonce=t.nonce??A.nonce);const C=await(async()=>{if(typeof o?.fees?.baseFeeMultiplier=="function"){const B=await R(e,be,"getBlock")({});return o.fees.baseFeeMultiplier({block:B,client:e,request:t})}return o?.fees?.baseFeeMultiplier??1.2})();if(C<1)throw new la;const O=10**(C.toString().split(".")[1]?.length??0),L=B=>B*BigInt(Math.ceil(C*O))/BigInt(O);return A.maxFeePerGas&&!t.maxFeePerGas&&(A.maxFeePerGas=L(A.maxFeePerGas)),A.gasPrice&&!t.gasPrice&&(A.gasPrice=L(A.gasPrice)),{raw:I.raw,transaction:{from:P.from,...A}}}catch(I){throw tr(I,{...t,chain:e.chain})}}const Ds=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Go=new Map,vr=new zt(128);async function Pn(e,t){let n=t;n.account??=e.account,n.parameters??=Ds;const{account:r,chain:s=e.chain,nonceManager:o,parameters:i}=n,a=(()=>{if(typeof s?.prepareTransactionRequest=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s?.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:s?s.id:(c=await R(e,We,"getChainId")({}),c))}const f=r&&D(r);let d=n.nonce;if(i.includes("nonce")&&typeof d>"u"&&f&&o){const b=await u();d=await o.consume({address:f.address,chainId:b,client:e})}a?.fn&&a.runAt?.includes("beforeFillTransaction")&&(n=await a.fn({...n,chain:s},{phase:"beforeFillTransaction"}),d??=n.nonce);const h=((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&n.kzg&&n.blobs||vr.get(e.uid)===!1||!["fees","gas"].some(w=>i.includes(w))?!1:!!(i.includes("chainId")&&typeof n.chainId!="number"||i.includes("nonce")&&typeof d!="number"||i.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||i.includes("gas")&&typeof n.gas!="bigint"))?await R(e,qs,"fillTransaction")({...n,nonce:d}).then(b=>{const{chainId:w,from:E,gas:P,gasPrice:I,nonce:k,maxFeePerBlobGas:A,maxFeePerGas:C,maxPriorityFeePerGas:N,type:O,...L}=b.transaction;return vr.set(e.uid,!0),{...n,...E?{from:E}:{},...O?{type:O}:{},...typeof w<"u"?{chainId:w}:{},...typeof P<"u"?{gas:P}:{},...typeof I<"u"?{gasPrice:I}:{},...typeof k<"u"?{nonce:k}:{},...typeof A<"u"?{maxFeePerBlobGas:A}:{},...typeof C<"u"?{maxFeePerGas:C}:{},...typeof N<"u"?{maxPriorityFeePerGas:N}:{},..."nonceKey"in L&&typeof L.nonceKey<"u"?{nonceKey:L.nonceKey}:{}}}).catch(b=>{const w=b;return w.name!=="TransactionExecutionError"||w.walk?.(P=>{const I=P;return I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"})&&vr.set(e.uid,!1),n}):n;d??=h.nonce,n={...h,...f?{from:f?.address}:{},...d?{nonce:d}:{}};const{blobs:p,gas:m,kzg:x,type:y}=n;a?.fn&&a.runAt?.includes("beforeFillParameters")&&(n=await a.fn({...n,chain:s},{phase:"beforeFillParameters"}));let v;async function g(){return v||(v=await R(e,be,"getBlock")({blockTag:"latest"}),v)}if(i.includes("nonce")&&typeof d>"u"&&f&&!o&&(n.nonce=await R(e,Ls,"getTransactionCount")({address:f.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&p&&x){const b=ya({blobs:p,kzg:x});if(i.includes("blobVersionedHashes")){const w=Qf({commitments:b,to:"hex"});n.blobVersionedHashes=w}if(i.includes("sidecars")){const w=ga({blobs:p,commitments:b,kzg:x}),E=rd({blobs:p,commitments:b,proofs:w,to:"hex"});n.sidecars=E}}if(i.includes("chainId")&&(n.chainId=await u()),(i.includes("fees")||i.includes("type"))&&typeof y>"u")try{n.type=sd(n)}catch{let b=Go.get(e.uid);typeof b>"u"&&(b=typeof(await g())?.baseFeePerGas=="bigint",Go.set(e.uid,b)),n.type=b?"eip1559":"legacy"}if(i.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const b=await g(),{maxFeePerGas:w,maxPriorityFeePerGas:E}=await ss(e,{block:b,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<E)throw new Lf({maxPriorityFeePerGas:E});n.maxPriorityFeePerGas=E,n.maxFeePerGas=w}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new Ms;if(typeof n.gasPrice>"u"){const b=await g(),{gasPrice:w}=await ss(e,{block:b,chain:s,request:n,type:"legacy"});n.gasPrice=w}}return i.includes("gas")&&typeof m>"u"&&(n.gas=await R(e,Gs,"estimateGas")({...n,account:f,prepare:f?.type==="local"?[]:["blobVersionedHashes"]})),a?.fn&&a.runAt?.includes("afterFillParameters")&&(n=await a.fn({...n,chain:s},{phase:"afterFillParameters"})),_e(n),delete n.parameters,n}async function Gs(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?D(n):void 0,o=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const i=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await Qn({authorization:t.authorizationList[0]}).catch(()=>{throw new $("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:h,gas:p,gasPrice:m,maxFeePerBlobGas:x,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:g,value:b,stateOverride:w,...E}=r?await Pn(e,{...t,parameters:o,to:i}):t;if(p&&t.gas!==p)return p;const I=(typeof d=="bigint"?M(d):void 0)||l,k=zs(w);_e(t);const A=e.chain?.formatters?.transactionRequest?.format,N=(A||Ve)({..._t(E,{format:A}),account:s,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,data:h,gasPrice:m,maxFeePerBlobGas:x,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:g,to:i,value:b},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:k?[N,I??e.experimental_blockTag??"latest",k]:I?[N,I]:[N]}))}catch(i){throw Ff(i,{...t,account:s,chain:e.chain})}}async function Ea(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,...a}=t,c=ce({abi:n,args:s,functionName:o});try{return await R(e,Gs,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?D(a.account):void 0;throw st(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}function An(e,t){if(!le(e,{strict:!1}))throw new Ge({address:e});if(!le(t,{strict:!1}))throw new Ge({address:t});return e.toLowerCase()===t.toLowerCase()}const Ho="/docs/contract/decodeEventLog";function Ln(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new Hu({docsPath:Ho});const c=t.find(y=>y.type==="event"&&i===Yn(me(y)));if(!(c&&"name"in c)||c.type!=="event")throw new Vu(i,{docsPath:Ho});const{name:u,inputs:f}=c,d=f?.some(y=>!("name"in y&&y.name)),l=d?[]:{},h=f.map((y,v)=>[y,v]).filter(([y])=>"indexed"in y&&y.indexed),p=[];for(let y=0;y<h.length;y++){const[v,g]=h[y],b=a[y];if(!b){if(o)throw new Ps({abiItem:c,param:v});p.push([v,g]);continue}l[d?g:v.name||g]=od({param:v,value:b})}const m=f.filter(y=>!("indexed"in y&&y.indexed)),x=o?m:[...p.map(([y])=>y),...m];if(x.length>0){if(n&&n!=="0x")try{const y=xn(x,n);if(y){let v=0;if(!o)for(const[g,b]of p)l[d?b:g.name||b]=y[v++];if(d)for(let g=0;g<f.length;g++)l[g]===void 0&&v<y.length&&(l[g]=y[v++]);else for(let g=0;g<m.length;g++)l[m[g].name]=y[v++]}}catch(y){if(o)throw y instanceof Ri||y instanceof ea?new Mn({abiItem:c,data:n,params:x,size:G(n)}):y}else if(o)throw new Mn({abiItem:c,data:"0x",params:x,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function od({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(xn([e],t)||[])[0]}function Hs(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})(),i=t.filter(a=>a.type==="event").map(a=>({abi:a,selector:Yn(a)}));return r.map(a=>{const c=i.filter(d=>a.topics[0]===d.selector);if(c.length===0)return null;let u,f;for(const d of c)try{u=Ln({...a,abi:[d.abi],strict:!0}),f=d;break}catch{}if(!u&&!s){f=c[0];try{u=Ln({data:a.data,topics:a.topics,abi:[f.abi],strict:!1})}catch{const d=f.abi.inputs?.some(l=>!("name"in l&&l.name));return{...a,args:d?[]:{},eventName:f.abi.name}}}return!u||!f||o&&!o.includes(u.eventName)||!id({args:u.args,inputs:f.abi.inputs,matchArgs:n})?null:{...u,...a}}).filter(Boolean)}function id(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?An(i,a):o.type==="string"||o.type==="bytes"?Z(Ft(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function Fe(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Vs(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(m=>wn({abi:[m],eventName:m.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?M(r):r,toBlock:typeof s=="bigint"?M(s):s}]});const h=l.map(p=>Fe(p));return f?Hs({abi:f,args:a,logs:h,strict:u}):h}async function Ws(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?ut({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return R(e,Vs,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}const Er="/docs/contract/decodeFunctionResult";function ft(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=ut({abi:t,args:n,name:r});if(!a)throw new At(r,{docsPath:Er});o=a}if(o.type!=="function")throw new At(void 0,{docsPath:Er});if(!o.outputs)throw new Fi(o.name,{docsPath:Er});const i=xn(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zs=BigInt(0),os=BigInt(1);function $n(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ks(e){if(!$n(e))throw new Error("Uint8Array expected")}function hn(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Cn(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Pa(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Zs:BigInt("0x"+e)}const Aa=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ad=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function pn(e){if(Ks(e),Aa)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=ad[e[n]];return t}const Be={_0:48,_9:57,A:65,F:70,a:97,f:102};function Vo(e){if(e>=Be._0&&e<=Be._9)return e-Be._0;if(e>=Be.A&&e<=Be.F)return e-(Be.A-10);if(e>=Be.a&&e<=Be.f)return e-(Be.a-10)}function Un(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Aa)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=Vo(e.charCodeAt(o)),a=Vo(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function et(e){return Pa(pn(e))}function $a(e){return Ks(e),Pa(pn(Uint8Array.from(e).reverse()))}function In(e,t){return Un(e.toString(16).padStart(t*2,"0"))}function Ia(e,t){return In(e,t).reverse()}function de(e,t,n){let r;if(typeof t=="string")try{r=Un(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if($n(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function qn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Ks(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const Pr=e=>typeof e=="bigint"&&Zs<=e;function Ys(e,t,n){return Pr(e)&&Pr(t)&&Pr(n)&&t<=e&&e<n}function Et(e,t,n,r){if(!Ys(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function cd(e){let t;for(t=0;e>Zs;e>>=os,t+=1);return t}const nr=e=>(os<<BigInt(e))-os,Ar=e=>new Uint8Array(e),Wo=e=>Uint8Array.from(e);function ud(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ar(e),s=Ar(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=Ar(0))=>{s=a(Wo([0]),d),r=a(),d.length!==0&&(s=a(Wo([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const h=r.slice();l.push(h),d+=r.length}return qn(...l)};return(d,l)=>{i(),c(d);let h;for(;!(h=l(u()));)c();return i(),h}}const fd={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||$n(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function rr(e,t,n={}){const r=(s,o,i)=>{const a=fd[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function Zo(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const dd="0.1.1";function ld(){return dd}class _ extends Error{static setStaticOptions(t){_.prototype.docsOrigin=t.docsOrigin,_.prototype.showVersion=t.showVersion,_.prototype.version=t.version}constructor(t,n={}){const r=(()=>{if(n.cause instanceof _){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof _&&n.cause.docsPath||n.docsPath,o=n.docsOrigin??_.prototype.docsOrigin,i=`${o}${s??""}`,a=!!(n.version??_.prototype.showVersion),c=n.version??_.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||a?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(f=>typeof f=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=i,this.docsOrigin=o,this.docsPath=s,this.shortMessage=t,this.showVersion=a,this.version=c}walk(t){return Ba(this,t)}}Object.defineProperty(_,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${ld()}`}});_.setStaticOptions(_.defaultStaticOptions);function Ba(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Ba(e.cause,t):t?null:e}function Bn(e,t){if(gt(e)>t)throw new Td({givenSize:gt(e),maxSize:t})}const Se={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ko(e){if(e>=Se.zero&&e<=Se.nine)return e-Se.zero;if(e>=Se.A&&e<=Se.F)return e-(Se.A-10);if(e>=Se.a&&e<=Se.f)return e-(Se.a-10)}function hd(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Cd({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function Sa(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function sr(e,t){if(ae(e)>t)throw new zd({givenSize:ae(e),maxSize:t})}function pd(e,t){if(typeof t=="number"&&t>0&&t>ae(e)-1)throw new Ma({offset:t,position:"start",size:ae(e)})}function bd(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ae(e)!==n-t)throw new Ma({offset:n,position:"end",size:ae(e)})}function Ta(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Md({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const md="#__bigint";function Ca(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+md:s,n)}const yd=new TextDecoder,gd=new TextEncoder;function wd(e){return e instanceof Uint8Array?e:typeof e=="string"?Na(e):xd(e)}function xd(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Na(e,t={}){const{size:n}=t;let r=e;n&&(sr(e,n),r=it(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=Ko(s.charCodeAt(c++)),f=Ko(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new _(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u<<4|f}return i}function vd(e,t={}){const{size:n}=t,r=gd.encode(e);return typeof n=="number"?(Bn(r,n),Ed(r,n)):r}function Ed(e,t){return hd(e,{dir:"right",size:t})}function gt(e){return e.length}function Pd(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function Ad(e,t={}){const{size:n}=t;typeof n<"u"&&Bn(e,n);const r=we(e,t);return Oa(r,t)}function $d(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Bn(r,n),r=ka(r)),r.length>1||r[0]>1)throw new Sd(r);return!!r[0]}function ke(e,t={}){const{size:n}=t;typeof n<"u"&&Bn(e,n);const r=we(e,t);return Fa(r,t)}function Id(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Bn(r,n),r=Bd(r)),yd.decode(r)}function ka(e){return Sa(e,{dir:"left"})}function Bd(e){return Sa(e,{dir:"right"})}class Sd extends _{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Td=class extends _{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Cd=class extends _{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Nd=new TextEncoder,kd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Rd(e,t={}){const{strict:n=!1}=t;if(!e)throw new Yo(e);if(typeof e!="string")throw new Yo(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Jo(e);if(!e.startsWith("0x"))throw new Jo(e)}function ge(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Od(e){return e instanceof Uint8Array?we(e):Array.isArray(e)?we(new Uint8Array(e)):e}function Ra(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(sr(n,t.size),ot(n,t.size)):n}function we(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=kd[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(sr(r,t.size),it(r,t.size)):r}function J(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new za({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?ot(c,r):c}function Js(e,t={}){return we(Nd.encode(e),t)}function ot(e,t){return Ta(e,{dir:"left",size:t})}function it(e,t){return Ta(e,{dir:"right",size:t})}function Pe(e,t,n,r={}){const{strict:s}=r;pd(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&bd(o,t,n),o}function ae(e){return Math.ceil((e.length-2)/2)}function Oa(e,t={}){const{signed:n}=t;t.size&&sr(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function Fa(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Oa(e,t))}function Fd(e,t={}){const{strict:n=!1}=t;try{return Rd(e,{strict:n}),!0}catch{return!1}}class za extends _{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Yo extends _{constructor(t){super(`Value \`${typeof t=="object"?Ca(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Jo extends _{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class zd extends _{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Ma extends _{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Md extends _{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function _d(e){return{address:e.address,amount:J(e.amount),index:J(e.index),validatorIndex:J(e.validatorIndex)}}function _a(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:J(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:J(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:J(e.gasLimit)},...typeof e.number=="bigint"&&{number:J(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:J(e.prevRandao)},...typeof e.time=="bigint"&&{time:J(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(_d)}}}const Dn=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],is=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],ja=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],La=[...ja,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],jd=[...ja,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Xo=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Qo=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Ua=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],ei=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Ld="0x82ad56cb",qa="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Ud="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",qd="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Xs="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class as extends ${constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}let Dd=class extends ${constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}};class Gd extends ${constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Da extends ${constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const $r="/docs/contract/encodeDeployData";function or(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Lu({docsPath:$r});if(!("inputs"in s))throw new Po({docsPath:$r});if(!s.inputs||s.inputs.length===0)throw new Po({docsPath:$r});const o=ct(s.inputs,n);return Mt([r,o])}function jt({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new as({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new as({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Ga(e,{docsPath:t,...n}){const r=(()=>{const s=er(e,n);return s instanceof En?e:s})();return new ia(r,{docsPath:t,...n})}function Qs(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Ir=new Map;function Ha({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const f=c();i();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<f.length;h++){const{resolve:p}=f[h];p?.([l[h],l])}}).catch(l=>{for(let h=0;h<f.length;h++){const{reject:p}=f[h];p?.(l)}})},i=()=>Ir.delete(t),a=()=>c().map(({args:f})=>f),c=()=>Ir.get(t)||[],u=f=>Ir.set(t,[...c(),f]);return{flush:i,async schedule(f){const{promise:d,resolve:l,reject:h}=Qs();return n?.([...a(),f])&&o(),c().length>0?(u({args:f,resolve:l,reject:h}),d):(u({args:f,resolve:l,reject:h}),setTimeout(o,r),d)}}}async function ir(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:h,gas:p,gasPrice:m,maxFeePerBlobGas:x,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:g,to:b,value:w,stateOverride:E,...P}=t,I=n?D(n):void 0;if(f&&(l||h))throw new $("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&b)throw new $("Cannot provide both `code` & `to` as parameters.");const k=f&&d,A=l&&h&&b&&d,C=k||A,N=k?Va({code:f,data:d}):A?Wd({data:d,factory:l,factoryData:h,to:b}):d;try{_e(t);const L=(typeof o=="bigint"?M(o):void 0)||i,B=u?_a(u):void 0,S=zs(E),F=e.chain?.formatters?.transactionRequest?.format,z=(F||Ve)({..._t(P,{format:F}),accessList:a,account:I,authorizationList:r,blobs:c,data:N,gas:p,gasPrice:m,maxFeePerBlobGas:x,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:g,to:C?void 0:b,value:w},"call");if(s&&Hd({request:z})&&!S&&!B)try{return await Vd(e,{...z,blockNumber:o,blockTag:i})}catch(q){if(!(q instanceof Da)&&!(q instanceof as))throw q}const j=(()=>{const q=[z,L];return S&&B?[...q,S,B]:S?[...q,S]:B?[...q,{},B]:q})(),U=await e.request({method:"eth_call",params:j});return U==="0x"?{data:void 0}:{data:U}}catch(O){const L=Zd(O),{offchainLookup:B,offchainLookupSignature:S}=await ca(async()=>{const{offchainLookup:F,offchainLookupSignature:T}=await import("./ccip.B55_HxmB.js");return{offchainLookup:F,offchainLookupSignature:T}},[]);if(e.ccipRead!==!1&&L?.slice(0,10)===S&&b)return{data:await B(e,{data:L,to:b})};throw C&&L?.slice(0,10)==="0x101bb98d"?new Ef({factory:l}):Ga(O,{...t,account:I,chain:e.chain})}}function Hd({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Ld)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Vd(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return jt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Da})(),d=(typeof o=="bigint"?M(o):void 0)||i,{schedule:l}=Ha({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(m){return m.reduce((y,{data:v})=>y+(v.length-2),0)>n*2},fn:async m=>{const x=m.map(g=>({allowFailure:!0,callData:g.data,target:g.to})),y=ce({abi:Dn,args:[x],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{...u===null?{data:Va({code:Xs,data:y})}:{to:u,data:y}},d]});return ft({abi:Dn,args:[x],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:h,success:p}]=await l({data:a,to:c});if(!p)throw new Xn({data:h});return h==="0x"?{data:void 0}:{data:h}}function Va(e){const{code:t,data:n}=e;return or({abi:Ci(["constructor(bytes, bytes)"]),bytecode:qa,args:[t,n]})}function Wd(e){const{data:t,factory:n,factoryData:r,to:s}=e;return or({abi:Ci(["constructor(address, bytes, address, bytes)"]),bytecode:Ud,args:[s,t,n,r]})}function Zd(e){if(!(e instanceof $))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function he(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=ce({abi:n,args:s,functionName:o});try{const{data:c}=await R(e,ir,"call")({...i,data:a,to:r});return ft({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw st(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Wa(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,...a}=t,c=a.account?D(a.account):e.account,u=ce({abi:n,args:s,functionName:o});try{const{data:f}=await R(e,ir,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=ft({abi:n,args:s,functionName:o,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(f){throw st(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}const Br=new Map,ti=new Map;let Kd=0;function ze(e,t,n){const r=++Kd,s=()=>Br.get(e)||[],o=()=>{const f=s();Br.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=ti.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},a=s();if(Br.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=((...d)=>{const l=s();if(l.length!==0)for(const h of l)h.fns[f]?.(...d)});const u=n(c);return typeof u=="function"&&ti.set(e,u),i}async function cs(e){return new Promise(t=>setTimeout(t,e))}function Lt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await n?.(a)??r;await cs(c);const u=async()=>{s&&(await e({unpoll:o}),await cs(r),u())};u()})(),o}const Yd=new Map,Jd=new Map;function Xd(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Yd),r=t(e,Jd);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Qd(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Xd(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const el=e=>`blockNumber.${e}`;async function Sn(e,{cacheTime:t=e.cacheTime}={}){const n=await Qd(()=>e.request({method:"eth_blockNumber"}),{cacheKey:el(e.uid),cacheTime:t});return BigInt(n)}async function ar(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Fe(o));return!("abi"in t)||!t.abi?s:Hs({abi:t.abi,logs:s,strict:n})}async function cr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Za(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const x=l??!1,y=H(["watchContractEvent",r,s,o,e.uid,i,d,x,a]);return ze(y,{onLogs:u,onError:c},v=>{let g;a!==void 0&&(g=a-1n);let b,w=!1;const E=Lt(async()=>{if(!w){try{b=await R(e,Ns,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:x,fromBlock:a})}catch{}w=!0;return}try{let P;if(b)P=await R(e,ar,"getFilterChanges")({filter:b});else{const I=await R(e,Sn,"getBlockNumber")({});g&&g<I?P=await R(e,Ws,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:g+1n,toBlock:I,strict:x}):P=[],g=I}if(P.length===0)return;if(o)v.onLogs(P);else for(const I of P)v.onLogs([I])}catch(P){b&&P instanceof He&&(w=!1),v.onError?.(P)}},{emitOnBegin:!0,interval:d});return async()=>{b&&await R(e,cr,"uninstallFilter")({filter:b}),E()}})})():(()=>{const x=l??!1,y=H(["watchContractEvent",r,s,o,e.uid,i,d,x]);let v=!0,g=()=>v=!1;return ze(y,{onLogs:u,onError:c},b=>((async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return I?I.value:e.transport}return e.transport})(),E=i?wn({abi:n,eventName:i,args:s}):[],{unsubscribe:P}=await w.subscribe({params:["logs",{address:r,topics:E}],onData(I){if(!v)return;const k=I.result;try{const{eventName:A,args:C}=Ln({abi:n,data:k.data,topics:k.topics,strict:l}),N=Fe(k,{args:C,eventName:A});b.onLogs([N])}catch(A){let C,N;if(A instanceof Mn||A instanceof Ps){if(l)return;C=A.abiItem.name,N=A.abiItem.inputs?.some(L=>!("name"in L&&L.name))}const O=Fe(k,{args:N?[]:{},eventName:C});b.onLogs([O])}},onError(I){b.onError?.(I)}});g=P,v||g()}catch(w){c?.(w)}})(),()=>g()))})()}class Ze extends ${constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class tt extends ${constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function eo({chain:e,currentChainId:t}){if(!e)throw new Gd;if(t!==e.id)throw new Dd({chain:e,currentChainId:t})}async function to(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Sr=new zt(128);async function ur(e,t){const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,type:x,value:y,...v}=t;if(typeof n>"u")throw new Ze({docsPath:"/docs/actions/wallet/sendTransaction"});const g=n?D(n):null;try{_e(t);const b=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await Qn({authorization:i[0]}).catch(()=>{throw new $("`to` is required. Could not infer from `authorizationList`.")})})();if(g?.type==="json-rpc"||g===null){let w;s!==null&&(w=await R(e,We,"getChainId")({}),r&&eo({currentChainId:w,chain:s}));const E=e.chain?.formatters?.transactionRequest?.format,I=(E||Ve)({..._t(v,{format:E}),accessList:o,account:g,authorizationList:i,blobs:a,chainId:w,data:c&&Y([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,to:b,type:x,value:y},"sendTransaction"),k=Sr.get(e.uid),A=k?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:A,params:[I]},{retryCount:0})}catch(C){if(k===!1)throw C;const N=C;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[I]},{retryCount:0}).then(O=>(Sr.set(e.uid,!0),O)).catch(O=>{const L=O;throw L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError"?(Sr.set(e.uid,!1),N):L});throw N}}if(g?.type==="local"){const w=await R(e,Pn,"prepareTransactionRequest")({account:g,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&Y([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,nonceManager:g.nonceManager,parameters:[...Ds,"sidecars"],type:x,value:y,...v,to:b}),E=s?.serializers?.transaction,P=await g.signTransaction(w,{serializer:E});return await R(e,to,"sendRawTransaction")({serializedTransaction:P})}throw g?.type==="smart"?new tt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new tt({docsPath:"/docs/actions/wallet/sendTransaction",type:g?.type})}catch(b){throw b instanceof tt?b:tr(b,{...t,account:g,chain:t.chain||void 0})}}async function kt(e,t){return kt.internal(e,ur,"sendTransaction",t)}(function(e){async function t(n,r,s,o){const{abi:i,account:a=n.account,address:c,args:u,functionName:f,...d}=o;if(typeof a>"u")throw new Ze({docsPath:"/docs/contract/writeContract"});const l=a?D(a):null,h=ce({abi:i,args:u,functionName:f});try{return await R(n,r,s)({data:h,to:c,account:l,...d})}catch(p){throw st(p,{abi:i,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:f,sender:l?.address})}}e.internal=t})(kt||(kt={}));function ni({abi:e,address:t,client:n}){const r=n,[s,o]=r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0],i=s!=null,a=o!=null,c={};let u=!1,f=!1,d=!1;for(const l of e)if(l.type==="function"?l.stateMutability==="view"||l.stateMutability==="pure"?u=!0:f=!0:l.type==="event"&&(d=!0),u&&f&&d)break;return i&&(u&&(c.read=new Proxy({},{get(l,h){return(...p)=>{const{args:m,options:x}=Nn(p);return R(s,he,"readContract")({abi:e,address:t,functionName:h,args:m,...x})}}})),f&&(c.simulate=new Proxy({},{get(l,h){return(...p)=>{const{args:m,options:x}=Nn(p);return R(s,Wa,"simulateContract")({abi:e,address:t,functionName:h,args:m,...x})}}})),d&&(c.createEventFilter=new Proxy({},{get(l,h){return(...p)=>{const m=e.find(v=>v.type==="event"&&v.name===h),{args:x,options:y}=Tr(p,m);return R(s,Ns,"createContractEventFilter")({abi:e,address:t,eventName:h,args:x,...y})}}}),c.getEvents=new Proxy({},{get(l,h){return(...p)=>{const m=e.find(v=>v.type==="event"&&v.name===h),{args:x,options:y}=Tr(p,m);return R(s,Ws,"getContractEvents")({abi:e,address:t,eventName:h,args:x,...y})}}}),c.watchEvent=new Proxy({},{get(l,h){return(...p)=>{const m=e.find(v=>v.type==="event"&&v.name===h),{args:x,options:y}=Tr(p,m);return R(s,Za,"watchContractEvent")({abi:e,address:t,eventName:h,args:x,...y})}}}))),a&&f&&(c.write=new Proxy({},{get(l,h){return(...p)=>{const{args:m,options:x}=Nn(p);return R(o,kt,"writeContract")({abi:e,address:t,functionName:h,args:m,...x})}}})),(i||a)&&f&&(c.estimateGas=new Proxy({},{get(l,h){return(...p)=>{const{args:m,options:x}=Nn(p);return R(s??o,Ea,"estimateContractGas")({abi:e,address:t,functionName:h,args:m,...x,account:x.account??o.account})}}})),c.address=t,c.abi=e,c}function Nn(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function Tr(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(o=>o.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,s=(n?e[1]:e[0])??{};return{args:r,options:s}}class tl extends ${constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function Gn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await cs(f),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}const Ka={"0x0":"reverted","0x1":"success"};function Ya(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Fe(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?ye(e.transactionIndex):null,status:e.status?Ka[e.status]:null,type:e.type?pa[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const Ja="0x5792579257925792579257925792579257925792579257925792579257925792",Xa=M(0,{size:32});async function Qa(e,t){const{account:n=e.account,chain:r=e.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:i=!1,id:a,version:c="2.0.0"}=t,u=n?D(n):null;let f=t.capabilities;e.dataSuffix&&!t.capabilities?.dataSuffix&&(typeof e.dataSuffix=="string"?f={...t.capabilities,dataSuffix:{value:e.dataSuffix,optional:!0}}:f={...t.capabilities,dataSuffix:{value:e.dataSuffix.value,...e.dataSuffix.required?{}:{optional:!0}}});const d=t.calls.map(l=>{const h=l,p=h.abi?ce({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&p?Y([p,h.dataSuffix]):p,to:h.to,value:h.value?M(h.value):void 0}});try{const l=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:d,capabilities:f,chainId:M(r.id),from:u?.address,id:a,version:c}]},{retryCount:0});return typeof l=="string"?{id:l}:l}catch(l){const h=l;if(s&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured")||h.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(f&&Object.values(f).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Ct(new $(v,{details:v}))}if(i&&d.length>1){const y="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Nt(new $(y,{details:y}))}const p=[];for(const y of d){const v=ur(e,{account:u,chain:r,data:y.data,to:y.to,value:y.value?ie(y.value):void 0});p.push(v),o>0&&await new Promise(g=>setTimeout(g,o))}const m=await Promise.allSettled(p);if(m.every(y=>y.status==="rejected"))throw m[0].reason;const x=m.map(y=>y.status==="fulfilled"?y.value:Xa);return{id:Y([...x,M(r.id,{size:32}),Ja])}}throw tr(l,{...t,account:u,chain:t.chain})}}async function ec(e,t){async function n(f){if(f.endsWith(Ja.slice(2))){const l=De(Vr(f,-64,-32)),h=Vr(f,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(x=>Xa.slice(2)!==x?e.request({method:"eth_getTransactionReceipt",params:[`0x${x}`]},{dedupe:!0}):void 0)),m=p.some(x=>x===null)?100:p.every(x=>x?.status==="0x1")?200:p.every(x=>x?.status==="0x0")?500:600;return{atomic:!1,chainId:ye(l),receipts:p.filter(Boolean),status:m,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:o,version:i="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const f=a.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...a,atomic:r,chainId:s?ye(s):void 0,receipts:o?.map(f=>({...f,blockNumber:ie(f.blockNumber),gasUsed:ie(f.gasUsed),status:Ka[f.status]}))??[],statusCode:u,status:c,version:i}}async function tc(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:m})=>m===200||m>=300,retryCount:o=4,retryDelay:i=({count:m})=>~~(1<<m)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=H(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:d,reject:l}=Qs();let h;const p=ze(u,{resolve:d,reject:l},m=>{const x=Lt(async()=>{const y=v=>{clearTimeout(h),x(),v(),p()};try{const v=await Gn(async()=>{const g=await R(e,ec,"getCallsStatus")({id:n});if(c&&g.status==="failure")throw new tl(g);return g},{retryCount:o,delay:i});if(!s(v))return;y(()=>m.resolve(v))}catch(v){y(()=>m.reject(v))}},{interval:r,emitOnBegin:!0});return x});return h=a?setTimeout(()=>{p(),clearTimeout(h),l(new nl({id:n}))},a):void 0,await f}class nl extends ${constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const us=256;let kn=us,Rn;function nc(e=11){if(!Rn||kn+e>us*2){Rn="",kn=0;for(let t=0;t<us;t++)Rn+=(256+Math.random()*256|0).toString(16).substring(1)}return Rn.substring(kn,kn+++e)}function rc(e){const{batch:t,chain:n,ccipRead:r,dataSuffix:s,key:o="base",name:i="Base Client",type:a="base"}=e,c=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),u=n?.blockTime??12e3,f=Math.min(Math.max(Math.floor(u/2),500),4e3),d=e.pollingInterval??f,l=e.cacheTime??d,h=e.account?D(e.account):void 0,{config:p,request:m,value:x}=e.transport({account:h,chain:n,pollingInterval:d}),y={...p,...x},v={account:h,batch:t,cacheTime:l,ccipRead:r,chain:n,dataSuffix:s,key:o,name:i,pollingInterval:d,request:m,transport:y,type:a,uid:nc(),...c?{experimental_blockTag:c}:{}};function g(b){return w=>{const E=w(b);for(const I in v)delete E[I];const P={...b,...E};return Object.assign(P,{extend:g(P)})}}return Object.assign(v,{extend:g(v)})}function no(e){if(!(e instanceof $))return!1;const t=e.walk(n=>n instanceof Kr);return t instanceof Kr?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function rl(e){const{abi:t,data:n}=e,r=St(n,0,4),s=t.find(o=>o.type==="function"&&r===gn(me(o)));if(!s)throw new Wu(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?xn(s.inputs,St(n,4)):void 0}}const Cr="/docs/contract/encodeErrorResult";function ri(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=ut({abi:t,args:r,name:n});if(!c)throw new Ao(n,{docsPath:Cr});s=c}if(s.type!=="error")throw new Ao(void 0,{docsPath:Cr});const o=me(s),i=gn(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new Gu(s.name,{docsPath:Cr});a=ct(s.inputs,r)}return Mt([i,a])}const Nr="/docs/contract/encodeFunctionResult";function sl(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=ut({abi:t,name:n});if(!i)throw new At(n,{docsPath:Nr});s=i}if(s.type!=="function")throw new At(void 0,{docsPath:Nr});if(!s.outputs)throw new Fi(s.name,{docsPath:Nr});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new zi(r)})();return ct(s.outputs,o)}const fr="x-batch-gateway:true";async function ol(e){const{data:t,ccipRequest:n}=e,{args:[r]}=rl({abi:is,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(fr)?await ol({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=il(c)}})),sl({abi:is,functionName:"query",result:[s,o]})}function il(e){return e.name==="HttpRequestError"&&e.status?ri({abi:is,errorName:"HttpError",args:[e.status,e.shortMessage]}):ri({abi:[Qi],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function sc(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ae(t)?t:null}function fs(e){let t=new Uint8Array(32).fill(0);if(!e)return V(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=sc(n[r]),o=s?Ft(s):Z(Qe(n[r]),"bytes");t=Z(Y([t,o]),"bytes")}return V(t)}function al(e){return`[${e.slice(2)}]`}function cl(e){const t=new Uint8Array(32).fill(0);return e?sc(e)||Z(Qe(e)):V(t)}function ro(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Qe(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=Qe(s[o]);i.byteLength>255&&(i=Qe(al(cl(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function ul(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return jt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[fs(o),BigInt(s)]:[fs(o)];try{const l=ce({abi:Qo,functionName:"addr",args:d}),h={address:u,abi:La,functionName:"resolveWithGateways",args:[Oe(ro(o)),l,i??[fr]],blockNumber:n,blockTag:r},m=await R(e,he,"readContract")(h);if(m[0]==="0x")return null;const x=ft({abi:Qo,args:d,functionName:"addr",data:m[0]});return x==="0x"||De(x)==="0x00"?null:x}catch(l){if(a)throw l;if(no(l))return null;throw l}}class fl extends ${constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Gt extends ${constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class so extends ${constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class dl extends ${constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const ll=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,hl=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,pl=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,bl=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function ml(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function si(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function oc({uri:e,gatewayUrls:t}){const n=pl.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=si(t?.ipfs,"https://ipfs.io"),s=si(t?.arweave,"https://arweave.net"),o=e.match(ll),{protocol:i,subpath:a,target:c,subtarget:u=""}=o?.groups||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||hl.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(bl,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new so({uri:e})}function ic(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new fl({data:e});return e.image||e.image_url||e.image_data}async function yl({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await oo({gatewayUrls:e,uri:ic(n)})}catch{throw new so({uri:t})}}async function oo({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=oc({uri:t,gatewayUrls:e});if(r||await ml(n))return n;throw new so({uri:t})}function gl(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Gt({reason:"Only EIP-155 supported"});if(!i)throw new Gt({reason:"Chain ID not found"});if(!c)throw new Gt({reason:"Contract address not found"});if(!s)throw new Gt({reason:"Token ID not found"});if(!a)throw new Gt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function wl(e,{nft:t}){if(t.namespace==="erc721")return he(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return he(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new dl({namespace:t.namespace})}async function xl(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?vl(e,{gatewayUrls:t,record:n}):oo({uri:n,gatewayUrls:t})}async function vl(e,{gatewayUrls:t,record:n}){const r=gl(n),s=await wl(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=oc({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return oo({uri:ic(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),yl({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function ac(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return jt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:La,args:[Oe(ro(o)),ce({abi:Xo,functionName:"text",args:[fs(o),s]}),i??[fr]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await R(e,he,"readContract")(d);if(h[0]==="0x")return null;const p=ft({abi:Xo,functionName:"text",data:h[0]});return p===""?null:p}catch(d){if(a)throw d;if(no(d))return null;throw d}}async function El(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await R(e,ac,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await xl(e,{record:c,gatewayUrls:r})}catch{return null}}async function Pl(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return jt({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:jd,args:[n,o,i??[fr]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=R(e,he,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(no(f))return null;throw f}}async function Al(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return jt({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await R(e,he,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Oe(ro(s))],blockNumber:n,blockTag:r});return c}async function cc(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h,...p}=t,m=n?D(n):void 0;try{_e(t);const y=(typeof r=="bigint"?M(r):void 0)||s,v=e.chain?.formatters?.transactionRequest?.format,b=(v||Ve)({..._t(p,{format:v}),account:m,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h},"createAccessList"),w=await e.request({method:"eth_createAccessList",params:[b,y]});return{accessList:w.accessList,gasUsed:BigInt(w.gasUsed)}}catch(x){throw Ga(x,{...t,account:m,chain:e.chain})}}async function $l(e){const t=Jn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function uc(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Jn(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>wn({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?M(o):o,toBlock:typeof a=="bigint"?M(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function fc(e){const t=Jn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Il(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?M(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Bl(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Sl(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?M(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),ye(o)}async function ds(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?M(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class Tl extends ${constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Cl(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await R(e,he,"readContract")({abi:Nl,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Tl({address:n}):i}}const Nl=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function kl(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function Rl(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?M(n):void 0,i=await e.request({method:"eth_feeHistory",params:[M(t),o||r,s]},{dedupe:!!o});return kl(i)}async function Ol(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Fe(o));return t.abi?Hs({abi:t.abi,logs:s,strict:n}):s}async function Fl({address:e,authorization:t,signature:n}){return An(Bs(e),await Qn({authorization:t,signature:n}))}const On=new zt(8192);function zl(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(On.get(n))return On.get(n);const r=e().finally(()=>On.delete(n));return On.set(n,r),r}function Ml(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if(o?.exclude?.includes(u))throw new Je(new Error("method not supported"),{method:u});if(o?.include&&!o.include.includes(u))throw new Je(new Error("method not supported"),{method:u});const f=s?$t(`${c}.${H(n)}`):void 0;return zl(()=>Gn(async()=>{try{return await e(n)}catch(d){const l=d;switch(l.code){case Zt.code:throw new Zt(l);case Kt.code:throw new Kt(l);case Yt.code:throw new Yt(l,{method:n.method});case Jt.code:throw new Jt(l);case rt.code:throw new rt(l);case He.code:throw new He(l);case Xt.code:throw new Xt(l);case Qt.code:throw new Qt(l);case en.code:throw new en(l);case Je.code:throw new Je(l,{method:n.method});case Tt.code:throw new Tt(l);case tn.code:throw new tn(l);case vt.code:throw new vt(l);case nn.code:throw new nn(l);case rn.code:throw new rn(l);case sn.code:throw new sn(l);case on.code:throw new on(l);case an.code:throw new an(l);case Ct.code:throw new Ct(l);case cn.code:throw new cn(l);case un.code:throw new un(l);case fn.code:throw new fn(l);case dn.code:throw new dn(l);case ln.code:throw new ln(l);case Nt.code:throw new Nt(l);case 5e3:throw new vt(l);default:throw d instanceof $?d:new Af(l)}}},{delay:({count:d,error:l})=>{if(l&&l instanceof Ht){const h=l?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<d)*i},retryCount:a,shouldRetry:({error:d})=>_l(d)}),{enabled:s,id:f})}}function _l(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Tt.code||e.code===rt.code:e instanceof Ht&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function jl(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(r){return s=>{const o=typeof s=="function"?s(r):s,i={...r,...o};return Object.assign(i,{extend:n(i)})}}return Object.assign(t,{extend:n(t)})}function Ll(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r&&a.abort()},n)),s(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function Ul(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const oi=Ul();function ql(e,t={}){const{url:n,headers:r}=Dl(e);return{async request(s){const{body:o,fetchFn:i=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:c=t.onResponse,timeout:u=t.timeout??1e4}=s,f={...t.fetchOptions??{},...s.fetchOptions??{}},{headers:d,method:l,signal:h}=f;try{const p=await Ll(async({signal:x})=>{const y={...f,body:Array.isArray(o)?H(o.map(w=>({jsonrpc:"2.0",id:w.id??oi.take(),...w}))):H({jsonrpc:"2.0",id:o.id??oi.take(),...o}),headers:{...r,"Content-Type":"application/json",...d},method:l||"POST",signal:h||(u>0?x:null)},v=new Request(n,y),g=await a?.(v,y)??{...y,url:n};return await i(g.url??n,g)},{errorInstance:new _o({body:o,url:n}),timeout:u,signal:!0});c&&await c(p);let m;if(p.headers.get("Content-Type")?.startsWith("application/json"))m=await p.json();else{m=await p.text();try{m=JSON.parse(m||"{}")}catch(x){if(p.ok)throw x;m={error:m}}}if(!p.ok)throw new Ht({body:o,details:H(m.error)||p.statusText,headers:p.headers,status:p.status,url:n});return m}catch(p){throw p instanceof Ht||p instanceof _o?p:new Ht({body:o,cause:p,url:n})}}}}function Dl(e){try{const t=new URL(e),n=(()=>{if(t.username){const r=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:t.toString(),...n}}catch{return{url:e}}}const Gl=`Ethereum Signed Message:
`;function Hl(e){const t=typeof e=="string"?$t(e):typeof e.raw=="string"?e.raw:V(e.raw),n=$t(`${Gl}${G(t)}`);return Y([n,t])}function dc(e,t){return Z(Hl(e),t)}class Vl extends ${constructor({domain:t}){super(`Invalid domain "${H(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Wl extends ${constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Zl extends ${constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Kl(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const f={...u};for(const d of c){const{name:l,type:h}=d;h==="address"&&(f[l]=f[l].toLowerCase())}return f},i=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return H({domain:i,message:a,primaryType:r,types:s})}function lc(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],l=f.match(Ji);if(l&&(typeof d=="number"||typeof d=="bigint")){const[m,x,y]=l;M(d,{signed:x==="int",size:Number.parseInt(y,10)/8})}if(f==="address"&&typeof d=="string"&&!le(d))throw new Ge({address:d});const h=f.match(L0);if(h){const[m,x]=h;if(x&&G(d)!==Number.parseInt(x,10))throw new Ku({expectedSize:Number.parseInt(x,10),givenSize:G(d)})}const p=s[f];p&&(Yl(f),o(p,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Vl({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Wl({primaryType:r,types:s})}function hc({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Yl(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Zl({type:e})}function Jl(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:hc({domain:t}),...e.types};lc({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Xl({domain:t,types:s})),r!=="EIP712Domain"&&o.push(pc({data:n,primaryType:r,types:s})),Z(Y(o))}function Xl({domain:e,types:t}){return pc({data:e,primaryType:"EIP712Domain",types:t})}function pc({data:e,primaryType:t,types:n}){const r=bc({data:e,primaryType:t,types:n});return Z(r)}function bc({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Ql({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=yc({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return ct(r,s)}function Ql({primaryType:e,types:t}){const n=Oe(e1({primaryType:e,types:t}));return Z(n)}function e1({primaryType:e,types:t}){let n="";const r=mc({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function mc({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])mc({primaryType:o.type,types:t},n);return n}function yc({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Z(bc({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},Z(r)];if(n==="string")return[{type:"bytes32"},Z(Oe(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>yc({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},Z(ct(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class t1 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const n1={checksum:new t1(8192)},kr=n1.checksum;function gc(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Vi(wd(e));return n==="Bytes"?r:we(r)}const r1=/^0x[a-fA-F0-9]{40}$/;function dr(e,t={}){const{strict:n=!0}=t;if(!r1.test(e))throw new ii({address:e,cause:new s1});if(n){if(e.toLowerCase()===e)return;if(wc(e)!==e)throw new ii({address:e,cause:new o1})}}function wc(e){if(kr.has(e))return kr.get(e);dr(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=gc(vd(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return kr.set(e,s),s}function ls(e,t={}){const{strict:n=!0}=t??{};try{return dr(e,{strict:n}),!0}catch{return!1}}class ii extends _{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class s1 extends _{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class o1 extends _{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const i1=/^(.*)\[([0-9]*)\]$/,a1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xc=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ai=2n**256n-1n;function Pt(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=co(t.type);if(o){const[i,a]=o;return u1(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return h1(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return c1(e,{checksum:r});if(t.type==="bool")return f1(e);if(t.type.startsWith("bytes"))return d1(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return l1(e,t);if(t.type==="string")return p1(e,{staticPosition:s});throw new fo(t.type)}const ci=32,hs=32;function c1(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?wc(o):o)(we(Pd(r,-20))),32]}function u1(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=ke(e.readBytes(hs)),u=o+c,f=u+ci;e.setPosition(u);const d=ke(e.readBytes(ci)),l=bn(t);let h=0;const p=[];for(let m=0;m<d;++m){e.setPosition(f+(l?m*32:h));const[x,y]=Pt(e,t,{checksumAddress:r,staticPosition:f});h+=y,p.push(x)}return e.setPosition(o+32),[p,32]}if(bn(t)){const c=ke(e.readBytes(hs)),u=o+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=Pt(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,f]=Pt(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(u)}return[a,i]}function f1(e){return[$d(e.readBytes(32),{size:32}),32]}function d1(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=ke(e.readBytes(32));e.setPosition(n+i);const a=ke(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[we(c),32]}return[we(e.readBytes(Number.parseInt(s,10),32)),32]}function l1(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Ad(s,{signed:n}):ke(s,{signed:n}),32]}function h1(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(bn(t)){const c=ke(e.readBytes(hs)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,h]=Pt(e,d,{checksumAddress:r,staticPosition:u});a+=h,i[o?f:d?.name]=l}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=Pt(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u?.name]=f,a+=d}return[i,a]}function p1(e,{staticPosition:t}){const n=ke(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ke(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Id(ka(o));return e.setPosition(t+32),[i,32]}function b1({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(io({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function io({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=co(r.type);if(s){const[o,i]=s;return y1(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return E1(n,{checksumAddress:e,parameter:r});if(r.type==="address")return m1(n,{checksum:e});if(r.type==="bool")return w1(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=xc.exec(r.type)??[];return x1(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return g1(n,{type:r.type});if(r.type==="string")return v1(n);throw new fo(r.type)}function ao(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=ae(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(J(t+s,{size:32})),r.push(a),s+=ae(a)):n.push(a)}return ge(...n,...r)}function m1(e,t){const{checksum:n=!1}=t;return dr(e,{strict:n}),{dynamic:!1,encoded:ot(e.toLowerCase())}}function y1(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new N1(e);if(!o&&e.length!==r)throw new C1({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=io({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=ao(a);if(o){const u=J(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?ge(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:ge(...a.map(({encoded:c})=>c))}}function g1(e,{type:t}){const[,n]=t.split("bytes"),r=ae(e);if(!n){let s=e;return r%32!==0&&(s=it(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:ge(ot(J(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Ec({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:it(e)}}function w1(e){if(typeof e!="boolean")throw new _(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ot(Ra(e))}}function x1(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new za({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:J(e,{size:32,signed:t})}}function v1(e){const t=Js(e),n=Math.ceil(ae(t)/32),r=[];for(let s=0;s<n;s++)r.push(it(Pe(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:ge(it(J(ae(t),{size:32})),...r)}}function E1(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=io({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?ao(o):ge(...o.map(({encoded:i})=>i))}}function co(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function bn(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(bn);const n=co(e.type);return!!(n&&bn({...e,type:n[1]}))}const P1={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new I1({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new $1({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ui({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ui({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function A1(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(P1);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class ui extends _{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class $1 extends _{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class I1 extends _{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function B1(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?Na(t):t,i=A1(o);if(gt(o)===0&&e.length>0)throw new T1;if(gt(o)&&gt(o)<32)throw new S1({data:typeof t=="string"?t:we(t),parameters:e,size:gt(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(a);const[d,l]=Pt(i,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function uo(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Pc({expectedLength:e.length,givenLength:t.length});const s=b1({checksumAddress:r,parameters:e,values:t}),o=ao(s);return o.length===0?"0x":o}function ps(e,t){if(e.length!==t.length)throw new Pc({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(ps.encode(s,o))}return ge(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return dr(c),ot(c.toLowerCase(),s?32:0)}if(n==="string")return Js(r);if(n==="bytes")return r;if(n==="bool")return ot(Ra(r),s?32:1);const o=n.match(xc);if(o){const[c,u,f="256"]=o,d=Number.parseInt(f,10)/8;return J(r,{size:s?32:d,signed:u==="int"})}const i=n.match(a1);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Ec({expectedSize:Number.parseInt(u,10),value:r});return it(r,s?32:0)}const a=n.match(i1);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":ge(...f)}throw new fo(n)}e.encode=t})(ps||(ps={}));function vc(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Eo(e):e}class S1 extends _{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${mt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class T1 extends _{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class C1 extends _{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Ec extends _{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ae(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Pc extends _{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class N1 extends _{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class fo extends _{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class Ac extends $s{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,y0(t);const r=Kn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Bt(o)}update(t){return It(this),this.iHash.update(t),this}digestInto(t){It(this),nt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $c=(e,t,n)=>new Ac(e,t).update(n).digest();$c.create=(e,t)=>new Ac(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const te=BigInt(0),X=BigInt(1),Xe=BigInt(2),k1=BigInt(3),Ic=BigInt(4),Bc=BigInt(5),Sc=BigInt(8);function ee(e,t){const n=e%t;return n>=te?n:t+n}function fe(e,t,n){let r=e;for(;t-- >te;)r*=r,r%=n;return r}function bs(e,t){if(e===te)throw new Error("invert: expected non-zero number");if(t<=te)throw new Error("invert: expected positive modulus, got "+t);let n=ee(e,t),r=t,s=te,o=X;for(;n!==te;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==X)throw new Error("invert: does not exist");return ee(s,t)}function Tc(e,t){const n=(e.ORDER+X)/Ic,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function R1(e,t){const n=(e.ORDER-Bc)/Sc,r=e.mul(t,Xe),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,Xe),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function O1(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-X,n=0;for(;t%Xe===te;)t/=Xe,n++;let r=Xe;const s=lo(e);for(;fi(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Tc;let o=s.pow(r,t);const i=(t+X)/Xe;return function(c,u){if(c.is0(u))return u;if(fi(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,o),l=c.pow(u,t),h=c.pow(u,i);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let p=1,m=c.sqr(l);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===f)throw new Error("Cannot find square root");const x=X<<BigInt(f-p-1),y=c.pow(d,x);f=p,d=c.sqr(y),l=c.mul(l,d),h=c.mul(h,y)}return h}}function F1(e){return e%Ic===k1?Tc:e%Sc===Bc?R1:O1(e)}const z1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function M1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=z1.reduce((r,s)=>(r[s]="function",r),t);return rr(e,n)}function _1(e,t,n){if(n<te)throw new Error("invalid exponent, negatives unsupported");if(n===te)return e.ONE;if(n===X)return t;let r=e.ONE,s=t;for(;n>te;)n&X&&(r=e.mul(r,s)),s=e.sqr(s),n>>=X;return r}function Cc(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function fi(e,t){const n=(e.ORDER-X)/Xe,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function Nc(e,t){t!==void 0&&Vt(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function lo(e,t,n=!1,r={}){if(e<=te)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=Nc(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:nr(s),ZERO:te,ONE:X,create:c=>ee(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return te<=c&&c<e},is0:c=>c===te,isOdd:c=>(c&X)===X,neg:c=>ee(-c,e),eql:(c,u)=>c===u,sqr:c=>ee(c*c,e),add:(c,u)=>ee(c+u,e),sub:(c,u)=>ee(c-u,e),mul:(c,u)=>ee(c*u,e),pow:(c,u)=>_1(a,c,u),div:(c,u)=>ee(c*bs(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>bs(c,e),sqrt:r.sqrt||(c=>(i||(i=F1(e)),i(a,c))),toBytes:c=>n?Ia(c,o):In(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?$a(c):et(c)},invertBatch:c=>Cc(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function kc(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Rc(e){const t=kc(e);return t+Math.ceil(t/2)}function j1(e,t,n=!1){const r=e.length,s=kc(t),o=Rc(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?$a(e):et(e),a=ee(i,t-X)+X;return n?Ia(a,s):In(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const di=BigInt(0),ms=BigInt(1);function Rr(e,t){const n=t.negate();return e?n:t}function Oc(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Or(e,t){Oc(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=nr(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function li(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=ms);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:u}}function L1(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function U1(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Fr=new WeakMap,Fc=new WeakMap;function zr(e){return Fc.get(e)||1}function q1(e,t){return{constTimeNegate:Rr,hasPrecomputes(n){return zr(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>di;)r&ms&&(s=s.add(o)),o=o.double(),r>>=ms;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=Or(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let f=1;f<o;f++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=Or(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:p}=li(s,c,a);s=u,d?i=i.add(Rr(h,r[p])):o=o.add(Rr(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=Or(n,t);for(let a=0;a<i.windows&&s!==di;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=li(s,a,i);if(s=c,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=Fr.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Fr.set(r,s(o))),o},wNAFCached(n,r,s){const o=zr(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=zr(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){Oc(r,t),Fc.set(n,r),Fr.delete(n)}}}function D1(e,t,n,r){L1(n,e),U1(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=cd(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=nr(c),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c;let l=i;for(let h=d;h>=0;h-=c){f.fill(i);for(let m=0;m<o;m++){const x=r[m],y=Number(x>>BigInt(h)&u);f[y]=f[y].add(n[m])}let p=i;for(let m=f.length-1,x=i;m>0;m--)x=x.add(f[m]),p=p.add(x);if(l=l.add(p),h!==0)for(let m=0;m<c;m++)l=l.double()}return l}function zc(e){return M1(e.Fp),rr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Nc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hi(e){e.lowS!==void 0&&hn("lowS",e.lowS),e.prehash!==void 0&&hn("prehash",e.prehash)}function G1(e){const t=zc(e);rr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class H1 extends Error{constructor(t=""){super(t)}}const Te={Err:H1,_tlv:{encode:(e,t)=>{const{Err:n}=Te;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Cn(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Cn(s.length/2|128):"";return Cn(e)+o+s+t},decode(e,t){const{Err:n}=Te;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Te;if(e<Ce)throw new t("integer: negative integers are not allowed");let n=Cn(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Te;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return et(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Te,s=de("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Te,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function Mr(e,t){return pn(In(e,t))}const Ce=BigInt(0),W=BigInt(1);BigInt(2);const _r=BigInt(3),V1=BigInt(4);function W1(e){const t=G1(e),{Fp:n}=t,r=lo(t.n,t.nBitLength),s=t.toBytes||((g,b,w)=>{const E=b.toAffine();return qn(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),o=t.fromBytes||(g=>{const b=g.subarray(1),w=n.fromBytes(b.subarray(0,n.BYTES)),E=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:w,y:E}});function i(g){const{a:b,b:w}=t,E=n.sqr(g),P=n.mul(E,g);return n.add(n.add(P,n.mul(g,b)),w)}function a(g,b){const w=n.sqr(b),E=i(g);return n.eql(w,E)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,_r),V1),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(g){return Ys(g,W,t.n)}function d(g){const{allowedPrivateKeyLengths:b,nByteLength:w,wrapPrivateKey:E,n:P}=t;if(b&&typeof g!="bigint"){if($n(g)&&(g=pn(g)),typeof g!="string"||!b.includes(g.length))throw new Error("invalid private key");g=g.padStart(w*2,"0")}let I;try{I=typeof g=="bigint"?g:et(de("private key",g,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof g)}return E&&(I=ee(I,P)),Et("private key",I,W,P),I}function l(g){if(!(g instanceof m))throw new Error("ProjectivePoint expected")}const h=Zo((g,b)=>{const{px:w,py:E,pz:P}=g;if(n.eql(P,n.ONE))return{x:w,y:E};const I=g.is0();b==null&&(b=I?n.ONE:n.inv(P));const k=n.mul(w,b),A=n.mul(E,b),C=n.mul(P,b);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:k,y:A}}),p=Zo(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:b,y:w}=g.toAffine();if(!n.isValid(b)||!n.isValid(w))throw new Error("bad point: x or y not FE");if(!a(b,w))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(b,w,E){if(b==null||!n.isValid(b))throw new Error("x required");if(w==null||!n.isValid(w)||n.is0(w))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required");this.px=b,this.py=w,this.pz=E,Object.freeze(this)}static fromAffine(b){const{x:w,y:E}=b||{};if(!b||!n.isValid(w)||!n.isValid(E))throw new Error("invalid affine point");if(b instanceof m)throw new Error("projective point not allowed");const P=I=>n.eql(I,n.ZERO);return P(w)&&P(E)?m.ZERO:new m(w,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const w=Cc(n,b.map(E=>E.pz));return b.map((E,P)=>E.toAffine(w[P])).map(m.fromAffine)}static fromHex(b){const w=m.fromAffine(o(de("pointHex",b)));return w.assertValidity(),w}static fromPrivateKey(b){return m.BASE.multiply(d(b))}static msm(b,w){return D1(m,r,b,w)}_setWindowSize(b){v.setWindowSize(this,b)}assertValidity(){p(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){l(b);const{px:w,py:E,pz:P}=this,{px:I,py:k,pz:A}=b,C=n.eql(n.mul(w,A),n.mul(I,P)),N=n.eql(n.mul(E,A),n.mul(k,P));return C&&N}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:w}=t,E=n.mul(w,_r),{px:P,py:I,pz:k}=this;let A=n.ZERO,C=n.ZERO,N=n.ZERO,O=n.mul(P,P),L=n.mul(I,I),B=n.mul(k,k),S=n.mul(P,I);return S=n.add(S,S),N=n.mul(P,k),N=n.add(N,N),A=n.mul(b,N),C=n.mul(E,B),C=n.add(A,C),A=n.sub(L,C),C=n.add(L,C),C=n.mul(A,C),A=n.mul(S,A),N=n.mul(E,N),B=n.mul(b,B),S=n.sub(O,B),S=n.mul(b,S),S=n.add(S,N),N=n.add(O,O),O=n.add(N,O),O=n.add(O,B),O=n.mul(O,S),C=n.add(C,O),B=n.mul(I,k),B=n.add(B,B),O=n.mul(B,S),A=n.sub(A,O),N=n.mul(B,L),N=n.add(N,N),N=n.add(N,N),new m(A,C,N)}add(b){l(b);const{px:w,py:E,pz:P}=this,{px:I,py:k,pz:A}=b;let C=n.ZERO,N=n.ZERO,O=n.ZERO;const L=t.a,B=n.mul(t.b,_r);let S=n.mul(w,I),F=n.mul(E,k),T=n.mul(P,A),z=n.add(w,E),j=n.add(I,k);z=n.mul(z,j),j=n.add(S,F),z=n.sub(z,j),j=n.add(w,P);let U=n.add(I,A);return j=n.mul(j,U),U=n.add(S,T),j=n.sub(j,U),U=n.add(E,P),C=n.add(k,A),U=n.mul(U,C),C=n.add(F,T),U=n.sub(U,C),O=n.mul(L,j),C=n.mul(B,T),O=n.add(C,O),C=n.sub(F,O),O=n.add(F,O),N=n.mul(C,O),F=n.add(S,S),F=n.add(F,S),T=n.mul(L,T),j=n.mul(B,j),F=n.add(F,T),T=n.sub(S,T),T=n.mul(L,T),j=n.add(j,T),S=n.mul(F,j),N=n.add(N,S),S=n.mul(U,j),C=n.mul(z,C),C=n.sub(C,S),S=n.mul(z,F),O=n.mul(U,O),O=n.add(O,S),new m(C,N,O)}subtract(b){return this.add(b.negate())}is0(){return this.equals(m.ZERO)}wNAF(b){return v.wNAFCached(this,b,m.normalizeZ)}multiplyUnsafe(b){const{endo:w,n:E}=t;Et("scalar",b,Ce,E);const P=m.ZERO;if(b===Ce)return P;if(this.is0()||b===W)return this;if(!w||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,b,m.normalizeZ);let{k1neg:I,k1:k,k2neg:A,k2:C}=w.splitScalar(b),N=P,O=P,L=this;for(;k>Ce||C>Ce;)k&W&&(N=N.add(L)),C&W&&(O=O.add(L)),L=L.double(),k>>=W,C>>=W;return I&&(N=N.negate()),A&&(O=O.negate()),O=new m(n.mul(O.px,w.beta),O.py,O.pz),N.add(O)}multiply(b){const{endo:w,n:E}=t;Et("scalar",b,W,E);let P,I;if(w){const{k1neg:k,k1:A,k2neg:C,k2:N}=w.splitScalar(b);let{p:O,f:L}=this.wNAF(A),{p:B,f:S}=this.wNAF(N);O=v.constTimeNegate(k,O),B=v.constTimeNegate(C,B),B=new m(n.mul(B.px,w.beta),B.py,B.pz),P=O.add(B),I=L.add(S)}else{const{p:k,f:A}=this.wNAF(b);P=k,I=A}return m.normalizeZ([P,I])[0]}multiplyAndAddUnsafe(b,w,E){const P=m.BASE,I=(A,C)=>C===Ce||C===W||!A.equals(P)?A.multiplyUnsafe(C):A.multiply(C),k=I(this,w).add(I(b,E));return k.is0()?void 0:k}toAffine(b){return h(this,b)}isTorsionFree(){const{h:b,isTorsionFree:w}=t;if(b===W)return!0;if(w)return w(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:w}=t;return b===W?this:w?w(m,this):this.multiplyUnsafe(t.h)}toRawBytes(b=!0){return hn("isCompressed",b),this.assertValidity(),s(m,this,b)}toHex(b=!0){return hn("isCompressed",b),pn(this.toRawBytes(b))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:x,nBitLength:y}=t,v=q1(m,x?Math.ceil(y/2):y);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function Z1(e){const t=zc(e);return rr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function K1(e){const t=Z1(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(B){return ee(B,r)}function u(B){return bs(B,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:h}=W1({...t,toBytes(B,S,F){const T=S.toAffine(),z=n.toBytes(T.x),j=qn;return hn("isCompressed",F),F?j(Uint8Array.from([S.hasEvenY()?2:3]),z):j(Uint8Array.from([4]),z,n.toBytes(T.y))},fromBytes(B){const S=B.length,F=B[0],T=B.subarray(1);if(S===i&&(F===2||F===3)){const z=et(T);if(!Ys(z,W,n.ORDER))throw new Error("Point is not on curve");const j=l(z);let U;try{U=n.sqrt(j)}catch(Q){const K=Q instanceof Error?": "+Q.message:"";throw new Error("Point is not on curve"+K)}const q=(U&W)===W;return(F&1)===1!==q&&(U=n.neg(U)),{x:z,y:U}}else if(S===a&&F===4){const z=n.fromBytes(T.subarray(0,n.BYTES)),j=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:z,y:j}}else{const z=i,j=a;throw new Error("invalid Point, expected length of "+z+", or uncompressed "+j+", got "+S)}}});function p(B){const S=r>>W;return B>S}function m(B){return p(B)?c(-B):B}const x=(B,S,F)=>et(B.slice(S,F));class y{constructor(S,F,T){Et("r",S,W,r),Et("s",F,W,r),this.r=S,this.s=F,T!=null&&(this.recovery=T),Object.freeze(this)}static fromCompact(S){const F=s;return S=de("compactSignature",S,F*2),new y(x(S,0,F),x(S,F,2*F))}static fromDER(S){const{r:F,s:T}=Te.toSig(de("DER",S));return new y(F,T)}assertValidity(){}addRecoveryBit(S){return new y(this.r,this.s,S)}recoverPublicKey(S){const{r:F,s:T,recovery:z}=this,j=P(de("msgHash",S));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const U=z===2||z===3?F+t.n:F;if(U>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=(z&1)===0?"02":"03",pe=f.fromHex(q+Mr(U,n.BYTES)),Q=u(U),K=c(-j*Q),dt=c(T*Q),je=f.BASE.multiplyAndAddUnsafe(pe,K,dt);if(!je)throw new Error("point at infinify");return je.assertValidity(),je}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Un(this.toDERHex())}toDERHex(){return Te.hexFromSig(this)}toCompactRawBytes(){return Un(this.toCompactHex())}toCompactHex(){const S=s;return Mr(this.r,S)+Mr(this.s,S)}}const v={isValidPrivateKey(B){try{return d(B),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const B=Rc(t.n);return j1(t.randomBytes(B),t.n)},precompute(B=8,S=f.BASE){return S._setWindowSize(B),S.multiply(BigInt(3)),S}};function g(B,S=!0){return f.fromPrivateKey(B).toRawBytes(S)}function b(B){if(typeof B=="bigint")return!1;if(B instanceof f)return!0;const F=de("key",B).length,T=n.BYTES,z=T+1,j=2*T+1;if(!(t.allowedPrivateKeyLengths||s===z))return F===z||F===j}function w(B,S,F=!0){if(b(B)===!0)throw new Error("first arg must be private key");if(b(S)===!1)throw new Error("second arg must be public key");return f.fromHex(S).multiply(d(B)).toRawBytes(F)}const E=t.bits2int||function(B){if(B.length>8192)throw new Error("input is too large");const S=et(B),F=B.length*8-o;return F>0?S>>BigInt(F):S},P=t.bits2int_modN||function(B){return c(E(B))},I=nr(o);function k(B){return Et("num < 2^"+o,B,Ce,I),In(B,s)}function A(B,S,F=C){if(["recovered","canonical"].some(Ke=>Ke in F))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:z}=t;let{lowS:j,prehash:U,extraEntropy:q}=F;j==null&&(j=!0),B=de("msgHash",B),hi(F),U&&(B=de("prehashed msgHash",T(B)));const pe=P(B),Q=d(S),K=[k(Q),k(pe)];if(q!=null&&q!==!1){const Ke=q===!0?z(n.BYTES):q;K.push(de("extraEntropy",Ke))}const dt=qn(...K),je=pe;function pr(Ke){const lt=E(Ke);if(!h(lt))return;const br=u(lt),Ut=f.BASE.multiply(lt).toAffine(),Ye=c(Ut.x);if(Ye===Ce)return;const qt=c(br*c(je+Ye*Q));if(qt===Ce)return;let ht=(Ut.x===Ye?0:2)|Number(Ut.y&W),go=qt;return j&&p(qt)&&(go=m(qt),ht^=1),new y(Ye,go,ht)}return{seed:dt,k2sig:pr}}const C={lowS:t.lowS,prehash:!1},N={lowS:t.lowS,prehash:!1};function O(B,S,F=C){const{seed:T,k2sig:z}=A(B,S,F),j=t;return ud(j.hash.outputLen,j.nByteLength,j.hmac)(T,z)}f.BASE._setWindowSize(8);function L(B,S,F,T=N){const z=B;S=de("msgHash",S),F=de("publicKey",F);const{lowS:j,prehash:U,format:q}=T;if(hi(T),"strict"in T)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");const pe=typeof z=="string"||$n(z),Q=!pe&&!q&&typeof z=="object"&&z!==null&&typeof z.r=="bigint"&&typeof z.s=="bigint";if(!pe&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let K,dt;try{if(Q&&(K=new y(z.r,z.s)),pe){try{q!=="compact"&&(K=y.fromDER(z))}catch(ht){if(!(ht instanceof Te.Err))throw ht}!K&&q!=="der"&&(K=y.fromCompact(z))}dt=f.fromHex(F)}catch{return!1}if(!K||j&&K.hasHighS())return!1;U&&(S=t.hash(S));const{r:je,s:pr}=K,Ke=P(S),lt=u(pr),br=c(Ke*lt),Ut=c(je*lt),Ye=f.BASE.multiplyAndAddUnsafe(dt,br,Ut)?.toAffine();return Ye?c(Ye.x)===je:!1}return{CURVE:t,getPublicKey:g,getSharedSecret:w,sign:O,verify:L,ProjectivePoint:f,Signature:y,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Y1(e){return{hash:e,hmac:(t,...n)=>$c(e,t,P0(...n)),randomBytes:A0}}function J1(e,t){const n=r=>K1({...e,...Y1(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),pi=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),X1=BigInt(0),Q1=BigInt(1),ys=BigInt(2),bi=(e,t)=>(e+t/ys)/t;function eh(e){const t=Mc,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=fe(f,n,t)*f%t,l=fe(d,n,t)*f%t,h=fe(l,ys,t)*u%t,p=fe(h,s,t)*h%t,m=fe(p,o,t)*p%t,x=fe(m,a,t)*m%t,y=fe(x,c,t)*x%t,v=fe(y,a,t)*m%t,g=fe(v,n,t)*f%t,b=fe(g,i,t)*p%t,w=fe(b,r,t)*u%t,E=fe(w,ys,t);if(!gs.eql(gs.sqr(E),e))throw new Error("Cannot find square root");return E}const gs=lo(Mc,void 0,void 0,{sqrt:eh}),_c=J1({a:X1,b:BigInt(7),Fp:gs,n:pi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=pi,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Q1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=bi(o*e,t),c=bi(-r*e,t);let u=ee(e-a*n-c*s,t),f=ee(-a*r-c*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},wa),th=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:_c},Symbol.toStringTag,{value:"Module"}));function jc(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new jr({signature:e});if(typeof e.s>"u")throw new jr({signature:e});if(n&&typeof e.yParity>"u")throw new jr({signature:e});if(e.r<0n||e.r>ai)throw new ch({value:e.r});if(e.s<0n||e.s>ai)throw new uh({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new po({value:e.yParity})}function nh(e){return Lc(we(e))}function Lc(e){if(e.length!==130&&e.length!==132)throw new ah({signature:e});const t=BigInt(Pe(e,0,32)),n=BigInt(Pe(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return ho(s)}catch{throw new po({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function rh(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return sh(e)}function sh(e){const t=typeof e=="string"?Lc(e):e instanceof Uint8Array?nh(e):typeof e.r=="string"?ih(e):e.v?oh(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return jc(t),t}function oh(e){return{r:e.r,s:e.s,yParity:ho(e.v)}}function ih(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=ho(n)),typeof r!="number")throw new po({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function ho(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new fh({value:e})}class ah extends _{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ae(Od(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class jr extends _{constructor({signature:t}){super(`Signature \`${Ca(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class ch extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class uh extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class po extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class fh extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function dh(e,t={}){return typeof e.chainId=="string"?lh(e):{...e,...t.signature}}function lh(e){const{address:t,chainId:n,nonce:r}=e,s=rh(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const hh="0x8010801080108010801080108010801080108010801080108010801080108010",ph=vc("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Uc(e){if(typeof e=="string"){if(Pe(e,-32)!==hh)throw new yh(e)}else jc(e.authorization)}function bh(e){Uc(e);const t=Fa(Pe(e,-64,-32)),n=Pe(e,-t-64,-64),r=Pe(e,0,-t-64),[s,o,i]=B1(ph,n);return{authorization:dh({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function mh(e){try{return Uc(e),!0}catch{return!1}}let yh=class extends _{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function gh(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function wh(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?ye(e.nonce):void 0,storageProof:e.storageProof?gh(e.storageProof):void 0}}async function xh(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?M(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return wh(a)}async function vh(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?M(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function bo(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:a}){const c=r||"latest",u=n!==void 0?M(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,M(o)]},{dedupe:!0}):typeof o=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,M(o)]},{dedupe:!!u}):i&&typeof a=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,M(a)]},{dedupe:!0})),!f)throw new ra({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||_s)(f,"getTransaction")}async function Eh(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([R(e,Sn,"getBlockNumber")({}),t?R(e,bo,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function Fn(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new sa({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||Ya)(n,"getTransactionReceipt")}async function Ph(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return jt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let p=0,m=0;for(let v=0;v<u.length;v++){const{abi:g,address:b,args:w,functionName:E}=u[v];try{const P=ce({abi:g,args:w,functionName:E});m+=(P.length-2)/2,f>0&&m>f&&h[p].length>0&&(p++,m=(P.length-2)/2,h[p]=[]),h[p]=[...h[p],{allowFailure:!0,callData:P,target:b}]}catch(P){const I=st(P,{abi:g,address:b,args:w,docsPath:"/docs/contract/multicall",functionName:E,sender:n});if(!s)throw I;h[p]=[...h[p],{allowFailure:!0,callData:"0x",target:b}]}}const x=await Promise.allSettled(h.map(v=>R(e,he,"readContract")({...l===null?{code:Xs}:{address:l},abi:Dn,account:n,args:[v],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),y=[];for(let v=0;v<x.length;v++){const g=x[v];if(g.status==="rejected"){if(!s)throw g.reason;for(let w=0;w<h[v].length;w++)y.push({status:"failure",error:g.reason,result:void 0});continue}const b=g.value;for(let w=0;w<b.length;w++){const{returnData:E,success:P}=b[w],{callData:I}=h[v][w],{abi:k,address:A,functionName:C,args:N}=u[y.length];try{if(I==="0x")throw new mn;if(!P)throw new Xn({data:E});const O=ft({abi:k,args:N,data:E,functionName:C});y.push(s?{result:O,status:"success"}:O)}catch(O){const L=st(O,{abi:k,address:A,args:N,docsPath:"/docs/contract/multicall",functionName:C});if(!s)throw L;y.push({error:L,result:void 0,status:"failure"})}}}if(y.length!==u.length)throw new $("multicall results mismatch");return y}async function ws(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const l of s){const h=l.blockOverrides?_a(l.blockOverrides):void 0,p=l.calls.map(x=>{const y=x,v=y.account?D(y.account):void 0,g=y.abi?ce(y):y.data,b={...y,account:v,data:y.dataSuffix?Y([g||"0x",y.dataSuffix]):g,from:y.from??v?.address};return _e(b),Ve(b)}),m=l.stateOverrides?zs(l.stateOverrides):void 0;c.push({blockOverrides:h,calls:p,stateOverrides:m})}const f=(typeof n=="bigint"?M(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((l,h)=>({...ba(l),calls:l.calls.map((p,m)=>{const{abi:x,args:y,functionName:v,to:g}=s[h].calls[m],b=p.error?.data??p.returnData,w=BigInt(p.gasUsed),E=p.logs?.map(A=>Fe(A)),P=p.status==="0x1"?"success":"failure",I=x&&P==="success"&&b!=="0x"?ft({abi:x,data:b,functionName:v}):null,k=(()=>{if(P==="success")return;let A;if(b==="0x"?A=new mn:b&&(A=new Xn({data:b})),!!A)return st(A,{abi:x??[],address:g??"0x",args:y,functionName:v??"<unknown>"})})();return{data:b,gasUsed:w,logs:E,status:P,...P==="success"?{result:I}:{error:k}}})}))}catch(c){const u=c,f=er(u,{});throw f instanceof En?u:f}}function xs(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new _("Unable to normalize signature.");return s}function vs(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ls(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>vs(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>vs(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function qc(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return qc(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?ls(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?ls(n[r],{strict:!1}):!1)return i}}function Dc(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?vo(e):e;return{...r,...n?{hash:wt(r)}:{}}}function lr(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=Fd(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Gc(u)===Pe(t,0,4):u.type==="event"?wt(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new Hn({name:t});if(i.length===1)return{...i[0],...s?{hash:wt(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:wt(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const h="inputs"in u&&u.inputs[l];return h?vs(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=qc(u.inputs,a.inputs,r);if(d)throw new $h({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new Hn({name:t});return{...c,...s?{hash:wt(c)}:{}}}function Gc(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return lr(n,r)}return e[0]})();return Pe(wt(t),0,4)}function Ah(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return lr(r,s)}return e[0]})(),n=typeof t=="string"?t:zn(t);return xs(n)}function wt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return lr(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:gc(Js(Ah(t)))}class $h extends _{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${xs(zn(t.abiItem))}\`, and`,`\`${n.type}\` in \`${xs(zn(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Hn extends _{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Ih(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,i]=e;return[Sh(o),i]}return e})(),{bytecode:r,args:s}=n;return ge(r,t.inputs?.length&&s?.length?uo(t.inputs,s):"0x")}function Bh(e){return Dc(e)}function Sh(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Hn({name:"constructor"});return t}function Th(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[mi(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?mi([t,...r],t.name,{args:n}):t,o=Ch(s),i=n.length>0?uo(s.inputs,n):void 0;return i?ge(o,i):o}function bt(e,t={}){return Dc(e,t)}function mi(e,t,n){const r=lr(e,t,n);if(r.type!=="function")throw new Hn({name:t,type:"function"});return r}function Ch(e){return Gc(e)}const Nh="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Ee="0x0000000000000000000000000000000000000000",kh="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Rh(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?D(t.account):void 0;if(i&&!u)throw new $("`account` is required when `traceAssetChanges` is true");const f=u?Ih(Bh("constructor(bytes, bytes)"),{bytecode:qa,args:[kh,Th(bt("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async T=>{if(!T.data&&!T.abi)return;const{accessList:z}=await cc(e,{account:u.address,...T,data:T.abi?ce(T):T.data});return z.map(({address:j,storageKeys:U})=>U.length>0?j:null)})).then(T=>T.flat().filter(Boolean)):[],l=await ws(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((T,z)=>({abi:[bt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:T,from:Ee,nonce:z})),stateOverrides:[{address:Ee,nonce:0}]}]:[],{calls:[...s,{}].map(T=>({...T,from:u?.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((T,z)=>({abi:[bt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:T,from:Ee,nonce:z})),stateOverrides:[{address:Ee,nonce:0}]},{calls:d.map((T,z)=>({to:T,abi:[bt("function decimals() returns (uint256)")],functionName:"decimals",from:Ee,nonce:z})),stateOverrides:[{address:Ee,nonce:0}]},{calls:d.map((T,z)=>({to:T,abi:[bt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Ee,nonce:z})),stateOverrides:[{address:Ee,nonce:0}]},{calls:d.map((T,z)=>({to:T,abi:[bt("function symbol() returns (string)")],functionName:"symbol",from:Ee,nonce:z})),stateOverrides:[{address:Ee,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=i?l[2]:l[0],[p,m,,x,y,v,g,b]=i?l:[],{calls:w,...E}=h,P=w.slice(0,-1)??[],I=p?.calls??[],k=m?.calls??[],A=[...I,...k].map(T=>T.status==="success"?ie(T.data):null),C=x?.calls??[],N=y?.calls??[],O=[...C,...N].map(T=>T.status==="success"?ie(T.data):null),L=(v?.calls??[]).map(T=>T.status==="success"?T.result:null),B=(b?.calls??[]).map(T=>T.status==="success"?T.result:null),S=(g?.calls??[]).map(T=>T.status==="success"?T.result:null),F=[];for(const[T,z]of O.entries()){const j=A[T];if(typeof z!="bigint"||typeof j!="bigint")continue;const U=L[T-1],q=B[T-1],pe=S[T-1],Q=T===0?{address:Nh,decimals:18,symbol:"ETH"}:{address:d[T-1],decimals:pe||U?Number(U??1):void 0,symbol:q??void 0};F.some(K=>K.token.address===Q.address)||F.push({token:Q,value:{pre:j,post:z,diff:z-j}})}return{assetChanges:F,block:E,results:P}}const Hc="0x6492649264926492649264926492649264926492649264926492649264926492";function Oh(e){if(Pe(e,-32)!==Hc)throw new Mh(e)}function Fh(e){const{data:t,signature:n,to:r}=e;return ge(uo(vc("address, bytes, bytes"),[r,t,n]),Hc)}function zh(e){try{return Oh(e),!0}catch{return!1}}class Mh extends _{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function _h({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new _c.Signature(ie(e),ie(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:$e(i)}async function hr(e,t){const{address:n,chain:r=e.chain,hash:s,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??r?.contracts?.erc6492Verifier?.address,multicallAddress:i=t.multicallAddress??r?.contracts?.multicall3?.address}=t;if(r?.verifyHash)return await r.verifyHash(e,t);const a=(()=>{const c=t.signature;return Ae(c)?c:typeof c=="object"&&"r"in c&&"s"in c?_h(c):V(c)})();try{return mh(a)?await jh(e,{...t,multicallAddress:i,signature:a}):await Lh(e,{...t,verifierAddress:o,signature:a})}catch(c){try{if(An(Bs(n),await ua({hash:s,signature:a})))return!0}catch{}if(c instanceof at)return!1;throw c}}async function jh(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:f}=bh(t.signature);if(await ds(e,{address:n,blockNumber:r,blockTag:s})===Mt(["0xef0100",a.address]))return await Uh(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:M(a.r,{size:32}),s:M(a.s,{size:32}),yParity:a.yParity};if(!await Fl({address:n,authorization:l}))throw new at;const p=await R(e,he,"readContract")({...i?{address:i}:{code:Xs},authorizationList:[l],abi:Dn,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:ce({abi:Ua,functionName:"isValidSignature",args:[o,u]})}]]});if(p[p.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new at}async function Lh(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||zh(i)?i:Fh({data:s,signature:i,to:r}))(),f=a?{to:a,data:ce({abi:ei,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:or({abi:ei,args:[n,o,u],bytecode:qd}),...c},{data:d}=await R(e,ir,"call")(f).catch(l=>{throw l instanceof ia?new at:l});if(s0(d??"0x0"))return!0;throw new at}async function Uh(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await R(e,he,"readContract")({address:n,abi:Ua,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof aa?new at:c})).startsWith("0x1626ba7e"))return!0;throw new at}class at extends Error{}async function qh(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=dc(n);return R(e,hr,"verifyHash")({address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function Dh(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=Jl({message:i,primaryType:a,types:c,domain:u});return R(e,hr,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function Vc(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=H(["watchBlockNumber",e.uid,t,n,i]);return ze(d,{onBlockNumber:r,onError:s},l=>Lt(async()=>{try{const h=await R(e,Sn,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&n)for(let p=c+1n;p<h;p++)l.onBlockNumber(p,c),c=p}(c===void 0||h>c)&&(l.onBlockNumber(h,c),c=h)}catch(h){l.onError?.(h)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=H(["watchBlockNumber",e.uid,t,n]);return ze(d,{onBlockNumber:r,onError:s},l=>{let h=!0,p=()=>h=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:x}=await m.subscribe({params:["newHeads"],onData(y){if(!h)return;const v=ie(y.result?.number);l.onBlockNumber(v,c),c=v},onError(y){l.onError?.(y)}});p=x,h||p()}catch(m){s?.(m)}})(),()=>p()})})()}async function Wc(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:w})=>~~(1<<w)*200,timeout:c=18e4}=t,u=H(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let d,l,h,p=!1,m,x;const{promise:y,resolve:v,reject:g}=Qs(),b=c?setTimeout(()=>{x?.(),m?.(),g(new wf({hash:s}))},c):void 0;return m=ze(u,{onReplaced:o,resolve:v,reject:g},async w=>{if(h=await R(e,Fn,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(b),w.resolve(h),m?.();return}x=R(e,Vc,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(E){const P=k=>{clearTimeout(b),x?.(),k(),m?.()};let I=E;if(!p)try{if(h){if(r>1&&(!h.blockNumber||I-h.blockNumber+1n<r))return;P(()=>w.resolve(h));return}if(n&&!d&&(p=!0,await Gn(async()=>{d=await R(e,bo,"getTransaction")({hash:s}),d.blockNumber&&(I=d.blockNumber)},{delay:a,retryCount:i}),p=!1),h=await R(e,Fn,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||I-h.blockNumber+1n<r))return;P(()=>w.resolve(h))}catch(k){if(k instanceof ra||k instanceof sa){if(!d){p=!1;return}try{l=d,p=!0;const A=await Gn(()=>R(e,be,"getBlock")({blockNumber:I,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:O})=>O instanceof ha});p=!1;const C=A.transactions.find(({from:O,nonce:L})=>O===l.from&&L===l.nonce);if(!C||(h=await R(e,Fn,"getTransactionReceipt")({hash:C.hash}),r>1&&(!h.blockNumber||I-h.blockNumber+1n<r)))return;let N="replaced";C.to===l.to&&C.value===l.value&&C.input===l.input?N="repriced":C.from===C.to&&C.value===0n&&(N="cancelled"),P(()=>{w.onReplaced?.({reason:N,replacedTransaction:l,transaction:C,transactionReceipt:h}),w.resolve(h)})}catch(A){P(()=>w.reject(A))}}else P(()=>w.reject(k))}}})}),y}function Gh(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const p=H(["watchBlocks",e.uid,t,n,r,f,c]);return ze(p,{onBlock:s,onError:o},m=>Lt(async()=>{try{const x=await R(e,be,"getBlock")({blockTag:t,includeTransactions:f});if(x.number!==null&&d?.number!=null){if(x.number===d.number)return;if(x.number-d.number>1&&n)for(let y=d?.number+1n;y<x.number;y++){const v=await R(e,be,"getBlock")({blockNumber:y,includeTransactions:f});m.onBlock(v,d),d=v}}(d?.number==null||t==="pending"&&x?.number==null||x.number!==null&&x.number>d.number)&&(m.onBlock(x,d),d=x)}catch(x){m.onError?.(x)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,m=!0,x=()=>p=!1;return(async()=>{try{r&&R(e,be,"getBlock")({blockTag:t,includeTransactions:f}).then(g=>{p&&m&&(s(g,void 0),m=!1)}).catch(o);const y=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return g?g.value:e.transport}return e.transport})(),{unsubscribe:v}=await y.subscribe({params:["newHeads"],async onData(g){if(!p)return;const b=await R(e,be,"getBlock")({blockNumber:g.result?.number,includeTransactions:f}).catch(()=>{});p&&(s(b,d),m=!1,d=b)},onError(g){o?.(g)}});x=v,p||x()}catch(y){o?.(y)}})(),()=>x()})()}function Hh(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return l?(()=>{const x=H(["watchEvent",t,n,r,e.uid,s,f,i]);return ze(x,{onLogs:c,onError:a},y=>{let v;i!==void 0&&(v=i-1n);let g,b=!1;const w=Lt(async()=>{if(!b){try{g=await R(e,uc,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}b=!0;return}try{let E;if(g)E=await R(e,ar,"getFilterChanges")({filter:g});else{const P=await R(e,Sn,"getBlockNumber")({});v&&v!==P?E=await R(e,Vs,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:v+1n,toBlock:P}):E=[],v=P}if(E.length===0)return;if(r)y.onLogs(E);else for(const P of E)y.onLogs([P])}catch(E){g&&E instanceof He&&(b=!1),y.onError?.(E)}},{emitOnBegin:!0,interval:f});return async()=>{g&&await R(e,cr,"uninstallFilter")({filter:g}),w()}})})():(()=>{let x=!0,y=()=>x=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),g=o??(s?[s]:void 0);let b=[];g&&(b=[g.flatMap(P=>wn({abi:[P],eventName:P.name,args:n}))],s&&(b=b[0]));const{unsubscribe:w}=await v.subscribe({params:["logs",{address:t,topics:b}],onData(E){if(!x)return;const P=E.result;try{const{eventName:I,args:k}=Ln({abi:g??[],data:P.data,topics:P.topics,strict:h}),A=Fe(P,{args:k,eventName:I});c([A])}catch(I){let k,A;if(I instanceof Mn||I instanceof Ps){if(d)return;k=I.abiItem.name,A=I.abiItem.inputs?.some(N=>!("name"in N&&N.name))}const C=Fe(P,{args:A?[]:{},eventName:k});c([C])}},onError(E){a?.(E)}});y=w,x||y()}catch(v){a?.(v)}})(),()=>y()})()}function Vh(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=H(["watchPendingTransactions",e.uid,t,o]);return ze(u,{onTransactions:r,onError:n},f=>{let d;const l=Lt(async()=>{try{if(!d)try{d=await R(e,fc,"createPendingTransactionFilter")({});return}catch(p){throw l(),p}const h=await R(e,ar,"getFilterChanges")({filter:d});if(h.length===0)return;if(t)f.onTransactions(h);else for(const p of h)f.onTransactions([p])}catch(h){f.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await R(e,cr,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n?.(l)}});f=d,u||f()}catch(d){n?.(d)}})(),()=>f()})()}function Wh(e){const{scheme:t,statement:n,...r}=e.match(Zh)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=e.match(Kh)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Zh=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Kh=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Yh(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!le(r.address,{strict:!1})||t&&!An(r.address,t))return!1}catch{return!1}return!0}async function Jh(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=Wh(s);if(!f.address||!Yh({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const l=dc(s);return hr(e,{address:f.address,hash:l,signature:a,...u})}async function mo(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,M(r)]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||Ya)(s);if(i.status==="reverted"&&n)throw new oa({receipt:i});return i}function Xh(e){return{call:t=>ir(e,t),createAccessList:t=>cc(e,t),createBlockFilter:()=>$l(e),createContractEventFilter:t=>Ns(e,t),createEventFilter:t=>uc(e,t),createPendingTransactionFilter:()=>fc(e),estimateContractGas:t=>Ea(e,t),estimateGas:t=>Gs(e,t),getBalance:t=>Il(e,t),getBlobBaseFee:()=>Bl(e),getBlock:t=>be(e,t),getBlockNumber:t=>Sn(e,t),getBlockTransactionCount:t=>Sl(e,t),getBytecode:t=>ds(e,t),getChainId:()=>We(e),getCode:t=>ds(e,t),getContractEvents:t=>Ws(e,t),getEip712Domain:t=>Cl(e,t),getEnsAddress:t=>ul(e,t),getEnsAvatar:t=>El(e,t),getEnsName:t=>Pl(e,t),getEnsResolver:t=>Al(e,t),getEnsText:t=>ac(e,t),getFeeHistory:t=>Rl(e,t),estimateFeesPerGas:t=>Df(e,t),getFilterChanges:t=>ar(e,t),getFilterLogs:t=>Ol(e,t),getGasPrice:()=>js(e),getLogs:t=>Vs(e,t),getProof:t=>xh(e,t),estimateMaxPriorityFeePerGas:t=>qf(e,t),fillTransaction:t=>qs(e,t),getStorageAt:t=>vh(e,t),getTransaction:t=>bo(e,t),getTransactionConfirmations:t=>Eh(e,t),getTransactionCount:t=>Ls(e,t),getTransactionReceipt:t=>Fn(e,t),multicall:t=>Ph(e,t),prepareTransactionRequest:t=>Pn(e,t),readContract:t=>he(e,t),sendRawTransaction:t=>to(e,t),sendRawTransactionSync:t=>mo(e,t),simulate:t=>ws(e,t),simulateBlocks:t=>ws(e,t),simulateCalls:t=>Rh(e,t),simulateContract:t=>Wa(e,t),verifyHash:t=>hr(e,t),verifyMessage:t=>qh(e,t),verifySiweMessage:t=>Jh(e,t),verifyTypedData:t=>Dh(e,t),uninstallFilter:t=>cr(e,t),waitForTransactionReceipt:t=>Wc(e,t),watchBlocks:t=>Gh(e,t),watchBlockNumber:t=>Vc(e,t),watchContractEvent:t=>Za(e,t),watchEvent:t=>Hh(e,t),watchPendingTransactions:t=>Vh(e,t)}}function Qh(e){const{key:t="public",name:n="Public Client"}=e;return rc({...e,key:t,name:n,type:"publicClient"}).extend(Xh)}async function ep(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:M(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function tp(e,t){const{abi:n,args:r,bytecode:s,...o}=t,i=or({abi:n,args:r,bytecode:s});return ur(e,{...o,...o.authorizationList?{to:null}:{},data:i})}async function np(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(n=>yn(n))}async function rp(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?D(n):void 0,o=r?[s?.address,[M(r)]]:[s?.address],i=await e.request({method:"wallet_getCapabilities",params:o}),a={};for(const[c,u]of Object.entries(i)){a[Number(c)]={};for(let[f,d]of Object.entries(u))f==="addSubAccount"&&(f="unstable_addSubAccount"),a[Number(c)][f]=d}return typeof r=="number"?a[r]:a}async function sp(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Zc(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Ze({docsPath:"/docs/eip7702/prepareAuthorization"});const o=D(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:D(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=e.chain?.id??await R(e,We,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await R(e,Ls,"getTransactionCount")({address:o.address,blockTag:"pending"}),(i==="self"||i?.address&&An(i.address,o.address))&&(a.nonce+=1)),a}async function op(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Bs(n))}async function ip(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function ap(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max((n?.blockTime??0)*3,5e3),s=await Qa(e,t);return await tc(e,{...t,id:s.id,timeout:r})}const Lr=new zt(128);async function Kc(e,t){const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,pollingInterval:x,throwOnReceiptRevert:y,type:v,value:g,...b}=t,w=t.timeout??Math.max((s?.blockTime??0)*3,5e3);if(typeof n>"u")throw new Ze({docsPath:"/docs/actions/wallet/sendTransactionSync"});const E=n?D(n):null;try{_e(t);const P=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await Qn({authorization:i[0]}).catch(()=>{throw new $("`to` is required. Could not infer from `authorizationList`.")})})();if(E?.type==="json-rpc"||E===null){let I;s!==null&&(I=await R(e,We,"getChainId")({}),r&&eo({currentChainId:I,chain:s}));const k=e.chain?.formatters?.transactionRequest?.format,C=(k||Ve)({..._t(b,{format:k}),accessList:o,account:E,authorizationList:i,blobs:a,chainId:I,data:c&&Y([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,to:P,type:v,value:g},"sendTransaction"),N=Lr.get(e.uid),O=N?"wallet_sendTransaction":"eth_sendTransaction",L=await(async()=>{try{return await e.request({method:O,params:[C]},{retryCount:0})}catch(S){if(N===!1)throw S;const F=S;if(F.name==="InvalidInputRpcError"||F.name==="InvalidParamsRpcError"||F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[C]},{retryCount:0}).then(T=>(Lr.set(e.uid,!0),T)).catch(T=>{const z=T;throw z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"?(Lr.set(e.uid,!1),F):z});throw F}})(),B=await R(e,Wc,"waitForTransactionReceipt")({checkReplacement:!1,hash:L,pollingInterval:x,timeout:w});if(y&&B.status==="reverted")throw new oa({receipt:B});return B}if(E?.type==="local"){const I=await R(e,Pn,"prepareTransactionRequest")({account:E,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&Y([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,nonceManager:E.nonceManager,parameters:[...Ds,"sidecars"],type:v,value:g,...b,to:P}),k=s?.serializers?.transaction,A=await E.signTransaction(I,{serializer:k});return await R(e,mo,"sendRawTransactionSync")({serializedTransaction:A,throwOnReceiptRevert:y,timeout:t.timeout})}throw E?.type==="smart"?new tt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new tt({docsPath:"/docs/actions/wallet/sendTransactionSync",type:E?.type})}catch(P){throw P instanceof tt?P:tr(P,{...t,account:E,chain:t.chain||void 0})}}async function cp(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function up(e,t){const{account:n=e.account}=t;if(!n)throw new Ze({docsPath:"/docs/eip7702/signAuthorization"});const r=D(n);if(!r.signAuthorization)throw new tt({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await Zc(e,t);return r.signAuthorization(s)}async function fp(e,{account:t=e.account,message:n}){if(!t)throw new Ze({docsPath:"/docs/actions/wallet/signMessage"});const r=D(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?$t(n):n.raw instanceof Uint8Array?Oe(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function dp(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Ze({docsPath:"/docs/actions/wallet/signTransaction"});const o=D(n);_e({account:o,...t});const i=await R(e,We,"getChainId")({});r!==null&&eo({currentChainId:i,chain:r});const c=(r?.formatters||e.chain?.formatters)?.transactionRequest?.format||Ve;return o.signTransaction?o.signTransaction({...s,chainId:i},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:o},"signTransaction"),chainId:M(i),from:o.address}]},{retryCount:0})}async function lp(e,t){const{account:n=e.account,domain:r,message:s,primaryType:o}=t;if(!n)throw new Ze({docsPath:"/docs/actions/wallet/signTypedData"});const i=D(n),a={EIP712Domain:hc({domain:r}),...t.types};if(lc({domain:r,message:s,primaryType:o,types:a}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:o,types:a});const c=Kl({domain:r,message:s,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function hp(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:M(t)}]},{retryCount:0})}async function pp(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function bp(e,t){return kt.internal(e,Kc,"sendTransactionSync",t)}function mp(e){return{addChain:t=>ep(e,t),deployContract:t=>tp(e,t),fillTransaction:t=>qs(e,t),getAddresses:()=>np(e),getCallsStatus:t=>ec(e,t),getCapabilities:t=>rp(e,t),getChainId:()=>We(e),getPermissions:()=>sp(e),prepareAuthorization:t=>Zc(e,t),prepareTransactionRequest:t=>Pn(e,t),requestAddresses:()=>op(e),requestPermissions:t=>ip(e,t),sendCalls:t=>Qa(e,t),sendCallsSync:t=>ap(e,t),sendRawTransaction:t=>to(e,t),sendRawTransactionSync:t=>mo(e,t),sendTransaction:t=>ur(e,t),sendTransactionSync:t=>Kc(e,t),showCallsStatus:t=>cp(e,t),signAuthorization:t=>up(e,t),signMessage:t=>fp(e,t),signTransaction:t=>dp(e,t),signTypedData:t=>lp(e,t),switchChain:t=>hp(e,t),waitForCallsStatus:t=>tc(e,t),watchAsset:t=>pp(e,t),writeContract:t=>kt(e,t),writeContractSync:t=>bp(e,t)}}function yp(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return rc({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(mp)}function Yc({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=nc();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:Ml(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function gp(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>Yc({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}function wp(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:d}=t;return({chain:l,retryCount:h,timeout:p})=>{const{batchSize:m=1e3,wait:x=0}=typeof n=="object"?n:{},y=t.retryCount??h,v=p??t.timeout??1e4,g=e,b=ql(g,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:v});return Yc({key:o,methods:i,name:a,async request({method:w,params:E}){const P={method:w,params:E},{schedule:I}=Ha({id:g,wait:x,shouldSplitBatch(N){return N.length>m},fn:N=>b.request({body:N}),sort:(N,O)=>N.id-O.id}),k=async N=>n?I(N):[await b.request({body:N})],[{error:A,result:C}]=await k(P);if(d)return{error:A,result:C};if(A)throw new Fs({body:P,error:A,url:g});return C},retryCount:y,retryDelay:f,timeout:v,type:"http"},{fetchOptions:s,url:g})}}const xp=jl({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),yi=[{type:"function",name:"queueSwapExactIn",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint128"},{name:"minOut",type:"uint128"},{name:"recipient",type:"address"}],outputs:[{name:"windowId",type:"uint64"},{name:"intentId",type:"uint256"}]},{type:"function",name:"clear",stateMutability:"nonpayable",inputs:[{name:"windowId",type:"uint64"}],outputs:[]},{type:"function",name:"claim",stateMutability:"nonpayable",inputs:[{name:"windowId",type:"uint64"},{name:"intentId",type:"uint256"}],outputs:[{name:"amountOut",type:"uint256"}]},{type:"function",name:"blocksPerWindow",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint64"}]},{type:"function",name:"startBlock",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint64"}]},{type:"function",name:"getWindowId",stateMutability:"view",inputs:[{name:"blockNumber",type:"uint256"}],outputs:[{name:"windowId",type:"uint64"}]},{type:"function",name:"getWindow",stateMutability:"view",inputs:[{name:"windowId",type:"uint64"}],outputs:[{name:"",type:"tuple",components:[{name:"totalIn",type:"uint256"},{name:"totalOut",type:"uint256"},{name:"intentCount",type:"uint256"},{name:"terminalIntentCount",type:"uint256"},{name:"claimedOutSum",type:"uint256"},{name:"cleared",type:"bool"},{name:"dustSwept",type:"bool"}]}]},{type:"function",name:"getIntent",stateMutability:"view",inputs:[{name:"windowId",type:"uint64"},{name:"intentId",type:"uint256"}],outputs:[{name:"",type:"tuple",components:[{name:"user",type:"address"},{name:"recipient",type:"address"},{name:"amountIn",type:"uint128"},{name:"minOut",type:"uint128"},{name:"windowId",type:"uint64"},{name:"zeroForOne",type:"bool"},{name:"claimed",type:"bool"}]}]},{type:"event",name:"IntentQueued",anonymous:!1,inputs:[{indexed:!0,name:"poolId",type:"bytes32"},{indexed:!0,name:"windowId",type:"uint64"},{indexed:!0,name:"intentId",type:"uint256"},{indexed:!1,name:"user",type:"address"},{indexed:!1,name:"amountIn",type:"uint128"},{indexed:!1,name:"zeroForOne",type:"bool"}]},{type:"event",name:"WindowCleared",anonymous:!1,inputs:[{indexed:!0,name:"poolId",type:"bytes32"},{indexed:!0,name:"windowId",type:"uint64"},{indexed:!1,name:"totalIn",type:"uint256"},{indexed:!1,name:"totalOut",type:"uint256"}]},{type:"event",name:"Claimed",anonymous:!1,inputs:[{indexed:!0,name:"poolId",type:"bytes32"},{indexed:!0,name:"windowId",type:"uint64"},{indexed:!0,name:"intentId",type:"uint256"},{indexed:!1,name:"user",type:"address"},{indexed:!1,name:"amountOut",type:"uint256"}]}],vp="https://ethereum-sepolia-rpc.publicnode.com",yo=xp,Jc=yo.id,Ep=vp,gi=Qh({chain:yo,transport:wp(Ep)});class Pp extends Error{constructor(){super("No injected wallet found. Install MetaMask (or another EIP-1193 wallet)."),this.name="WalletProviderError"}}class Ap extends Error{constructor(t){super(`Wrong network: connected to chain ${t}. Please switch wallet to Sepolia (chain ${Jc}).`),this.name="ChainMismatchError"}}const Vn=typeof window<"u"&&window.ethereum?yp({chain:yo,transport:gp(window.ethereum)}):void 0;async function $p(){if(!Vn)throw new Pp;const e=await Vn.getChainId();if(e!==Jc)throw new Ap(e)}async function qp(e){return Vn?(await $p(),ni({address:e,abi:yi,client:{public:gi,wallet:Vn}})):ni({address:e,abi:yi,client:gi})}const Dp=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};export{$ as B,Ap as C,Ht as H,Jc as T,Pp as W,Dp as _,qp as a,Os as b,H as c,df as d,ol as e,ir as f,ni as g,Y as h,An as i,ct as j,Ae as k,fr as l,gi as p,yi as s,yo as t,Vn as w};
